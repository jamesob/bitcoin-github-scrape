[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8421578",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-8421578",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 8421578,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0MjE1Nzg=",
    "user": {
      "login": "BitcoinPullTester",
      "id": 2110907,
      "node_id": "MDQ6VXNlcjIxMTA5MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2110907?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BitcoinPullTester",
      "html_url": "https://github.com/BitcoinPullTester",
      "followers_url": "https://api.github.com/users/BitcoinPullTester/followers",
      "following_url": "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
      "gists_url": "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BitcoinPullTester/subscriptions",
      "organizations_url": "https://api.github.com/users/BitcoinPullTester/orgs",
      "repos_url": "https://api.github.com/users/BitcoinPullTester/repos",
      "events_url": "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BitcoinPullTester/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-09-10T12:18:49Z",
    "updated_at": "2012-09-10T12:18:49Z",
    "author_association": "NONE",
    "body": "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/c077555c77dd1a58bedd6466a086c4f116fd0e57 for binaries and test log.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8421578/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8424448",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-8424448",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 8424448,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0MjQ0NDg=",
    "user": {
      "login": "gavinandresen",
      "id": 331997,
      "node_id": "MDQ6VXNlcjMzMTk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/331997?u=db313a954a318b81f5283d34908397d1ea3aeba3&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gavinandresen",
      "html_url": "https://github.com/gavinandresen",
      "followers_url": "https://api.github.com/users/gavinandresen/followers",
      "following_url": "https://api.github.com/users/gavinandresen/following{/other_user}",
      "gists_url": "https://api.github.com/users/gavinandresen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gavinandresen/subscriptions",
      "organizations_url": "https://api.github.com/users/gavinandresen/orgs",
      "repos_url": "https://api.github.com/users/gavinandresen/repos",
      "events_url": "https://api.github.com/users/gavinandresen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gavinandresen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-09-10T14:08:39Z",
    "updated_at": "2012-09-10T14:08:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "Nested-three-deep reject(DoS(error(...))) with two different error strings seems kinda crazy. If I wasn't familiar with the history of how that came to be I'd be befuddled.\n\nCould it be simplified to just:\nreturn reject(errorMessage, int nDoS=0) ?\n\n... where reject prints errorMessage to debug.log and saves it in the block, and then does the DoS thing if nDoS > 0. Then returns false.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8424448/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8444452",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-8444452",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 8444452,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0NDQ0NTI=",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-09-11T01:40:14Z",
    "updated_at": "2012-09-11T01:40:14Z",
    "author_association": "MEMBER",
    "body": "I'll flatten this later and collapse the 3 levels of function wrappers, just needed to get something working for Eligius...\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8444452/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8477180",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-8477180",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 8477180,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0NzcxODA=",
    "user": {
      "login": "BitcoinPullTester",
      "id": 2110907,
      "node_id": "MDQ6VXNlcjIxMTA5MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2110907?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BitcoinPullTester",
      "html_url": "https://github.com/BitcoinPullTester",
      "followers_url": "https://api.github.com/users/BitcoinPullTester/followers",
      "following_url": "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
      "gists_url": "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BitcoinPullTester/subscriptions",
      "organizations_url": "https://api.github.com/users/BitcoinPullTester/orgs",
      "repos_url": "https://api.github.com/users/BitcoinPullTester/repos",
      "events_url": "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BitcoinPullTester/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-09-12T00:10:44Z",
    "updated_at": "2012-09-12T00:10:44Z",
    "author_association": "NONE",
    "body": "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/8f976aaa862c933c41c153007d0ffe3093ff475b for binaries and test log.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8477180/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/10392472",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-10392472",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 10392472,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMzkyNDcy",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-11-15T00:24:19Z",
    "updated_at": "2012-11-15T00:24:19Z",
    "author_association": "MEMBER",
    "body": "Rebased and implemented @sipa 's CValidationResult solution.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/10392472/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/10684867",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-10684867",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 10684867,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNjg0ODY3",
    "user": {
      "login": "BitcoinPullTester",
      "id": 2110907,
      "node_id": "MDQ6VXNlcjIxMTA5MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2110907?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BitcoinPullTester",
      "html_url": "https://github.com/BitcoinPullTester",
      "followers_url": "https://api.github.com/users/BitcoinPullTester/followers",
      "following_url": "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
      "gists_url": "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BitcoinPullTester/subscriptions",
      "organizations_url": "https://api.github.com/users/BitcoinPullTester/orgs",
      "repos_url": "https://api.github.com/users/BitcoinPullTester/repos",
      "events_url": "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BitcoinPullTester/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-11-24T22:57:38Z",
    "updated_at": "2012-11-24T22:57:38Z",
    "author_association": "NONE",
    "body": "Automatic sanity-testing: FAILED MERGE, see http://jenkins.bluematt.me/pull-tester/212089d306d351e63111e91a969e9da1b1920cbc for test log.\n\nThis pull does not merge cleanly onto current master\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/10684867/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/10770788",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-10770788",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 10770788,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzcwNzg4",
    "user": {
      "login": "BitcoinPullTester",
      "id": 2110907,
      "node_id": "MDQ6VXNlcjIxMTA5MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2110907?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BitcoinPullTester",
      "html_url": "https://github.com/BitcoinPullTester",
      "followers_url": "https://api.github.com/users/BitcoinPullTester/followers",
      "following_url": "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
      "gists_url": "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BitcoinPullTester/subscriptions",
      "organizations_url": "https://api.github.com/users/BitcoinPullTester/orgs",
      "repos_url": "https://api.github.com/users/BitcoinPullTester/repos",
      "events_url": "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BitcoinPullTester/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-11-27T18:43:57Z",
    "updated_at": "2012-11-27T18:43:57Z",
    "author_association": "NONE",
    "body": "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/46888e6abca27dd6d2132aab7cd63f25363057c6 for binaries and test log.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/10770788/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/18694614",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-18694614",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 18694614,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4Njk0NjE0",
    "user": {
      "login": "jgarzik",
      "id": 494411,
      "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/494411?u=0b02049ec38b6bb7d55c5c66d9bbeb0d4b822129&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jgarzik",
      "html_url": "https://github.com/jgarzik",
      "followers_url": "https://api.github.com/users/jgarzik/followers",
      "following_url": "https://api.github.com/users/jgarzik/following{/other_user}",
      "gists_url": "https://api.github.com/users/jgarzik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
      "organizations_url": "https://api.github.com/users/jgarzik/orgs",
      "repos_url": "https://api.github.com/users/jgarzik/repos",
      "events_url": "https://api.github.com/users/jgarzik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jgarzik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-05-30T17:08:59Z",
    "updated_at": "2013-05-30T17:08:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "No objections to the code.  Driving use case?\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/18694614/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/18695132",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-18695132",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 18695132,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4Njk1MTMy",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-05-30T17:17:01Z",
    "updated_at": "2013-05-30T17:17:01Z",
    "author_association": "MEMBER",
    "body": "Ability to test block templates before putting the effort into mining them.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/18695132/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/18695846",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-18695846",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 18695846,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4Njk1ODQ2",
    "user": {
      "login": "jgarzik",
      "id": 494411,
      "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/494411?u=0b02049ec38b6bb7d55c5c66d9bbeb0d4b822129&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jgarzik",
      "html_url": "https://github.com/jgarzik",
      "followers_url": "https://api.github.com/users/jgarzik/followers",
      "following_url": "https://api.github.com/users/jgarzik/following{/other_user}",
      "gists_url": "https://api.github.com/users/jgarzik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
      "organizations_url": "https://api.github.com/users/jgarzik/orgs",
      "repos_url": "https://api.github.com/users/jgarzik/repos",
      "events_url": "https://api.github.com/users/jgarzik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jgarzik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-05-30T17:26:59Z",
    "updated_at": "2013-05-30T17:26:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "That's a use case.  What size user constituency is _driving_ this?  Do multiple pools want this?\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/18695846/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/18697341",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-18697341",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 18697341,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4Njk3MzQx",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-05-30T18:06:26Z",
    "updated_at": "2013-05-30T18:06:26Z",
    "author_association": "MEMBER",
    "body": "As far as I know, only Eligius and EclipseMC are actively using this today. Any pool using Eloipool for their poolserver would be able to immediately take advantage of it in the simplest case. It is also necessary for both a multiple-validating-node-implementation economy, and miner-chooses-his-own-transactions GBT-based pool mining.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/18697341/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/18697600",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-18697600",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 18697600,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4Njk3NjAw",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-05-30T18:10:32Z",
    "updated_at": "2013-05-30T18:10:32Z",
    "author_association": "MEMBER",
    "body": "@jgarzik I don't think that's a requirement (though certainly something to take into consideration).\n\nI like the idea of such functionality, as it allows miners to validate their work against multiple implementations. Especially with alternative full node implementations becoming available, having something like this may be inevitable. Plus it's a good debugging tool for checking whether new (unreleased) versions can accept the best chain.\n\nOn the other hand, I don't like the evolution that may follow from this, where miners become required to validate against a dozen implementations that may or may not differ in validation rules... that has nothing to do with this PR though.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/18697600/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/18771491",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-18771491",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 18771491,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NzcxNDkx",
    "user": {
      "login": "petertodd",
      "id": 7042,
      "node_id": "MDQ6VXNlcjcwNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7042?u=57b50a05caa63fb86d8f910668719907e9ecf667&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/petertodd",
      "html_url": "https://github.com/petertodd",
      "followers_url": "https://api.github.com/users/petertodd/followers",
      "following_url": "https://api.github.com/users/petertodd/following{/other_user}",
      "gists_url": "https://api.github.com/users/petertodd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/petertodd/subscriptions",
      "organizations_url": "https://api.github.com/users/petertodd/orgs",
      "repos_url": "https://api.github.com/users/petertodd/repos",
      "events_url": "https://api.github.com/users/petertodd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/petertodd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-05-31T21:04:24Z",
    "updated_at": "2013-05-31T21:04:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "@sipa A good example where the validation is extremely useful is a safety net for bitcoin changes that could potentially create invalid blocks. For instance in discussions with pools and miners something that comes up with implementing replace-by-fee and the child-pays-for-parent code I'm working on is the danger that there will be some kind of bug that leads to an invalid block. (let alone a delibrate exploit) Sure you can test all you want on testnet, but it's impossible to be 100% sure, and any orphan costs ~$3000USD; I've got one pool that wants to implement replace-by-fee that has said they are going to wait until it's been tested on Eligius first.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/18771491/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/18785624",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-18785624",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 18785624,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4Nzg1NjI0",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-01T08:29:29Z",
    "updated_at": "2013-06-01T08:29:29Z",
    "author_association": "MEMBER",
    "body": "@petertodd Sure, I agree it's a very good way to debug and test potentially forking changes. I just don't like what it may lead to.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/18785624/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/18801469",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-18801469",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 18801469,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODAxNDY5",
    "user": {
      "login": "rebroad",
      "id": 1530283,
      "node_id": "MDQ6VXNlcjE1MzAyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1530283?u=6a4a31aaddbc438e053c52d084a698a5f622f1ea&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rebroad",
      "html_url": "https://github.com/rebroad",
      "followers_url": "https://api.github.com/users/rebroad/followers",
      "following_url": "https://api.github.com/users/rebroad/following{/other_user}",
      "gists_url": "https://api.github.com/users/rebroad/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rebroad/subscriptions",
      "organizations_url": "https://api.github.com/users/rebroad/orgs",
      "repos_url": "https://api.github.com/users/rebroad/repos",
      "events_url": "https://api.github.com/users/rebroad/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rebroad/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-02T03:43:46Z",
    "updated_at": "2013-06-02T03:43:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "@sipa I agree it is good to be wary of where this may lead to. Are you meaning to imply that leaving things as they are may be a better alternative to the proposed solution made by Luke?\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/18801469/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/18942190",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-18942190",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 18942190,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4OTQyMTkw",
    "user": {
      "login": "DrHaribo",
      "id": 854778,
      "node_id": "MDQ6VXNlcjg1NDc3OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/854778?u=79bf10f8f531162ec62712c3097e11351e3f5090&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrHaribo",
      "html_url": "https://github.com/DrHaribo",
      "followers_url": "https://api.github.com/users/DrHaribo/followers",
      "following_url": "https://api.github.com/users/DrHaribo/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrHaribo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrHaribo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrHaribo/subscriptions",
      "organizations_url": "https://api.github.com/users/DrHaribo/orgs",
      "repos_url": "https://api.github.com/users/DrHaribo/repos",
      "events_url": "https://api.github.com/users/DrHaribo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrHaribo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-06-04T21:56:00Z",
    "updated_at": "2013-06-04T21:56:00Z",
    "author_association": "NONE",
    "body": "I would like to have block proposal functionality for BitMinter as well.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/18942190/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/20738783",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-20738783",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 20738783,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzM4Nzgz",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-07-10T12:35:32Z",
    "updated_at": "2013-07-10T12:35:32Z",
    "author_association": "NONE",
    "body": "I'd very much like this for my new pool (currently in private testing), if another \"driver\" is needed :)\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/20738783/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/26687926",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-26687926",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 26687926,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2Njg3OTI2",
    "user": {
      "login": "gavinandresen",
      "id": 331997,
      "node_id": "MDQ6VXNlcjMzMTk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/331997?u=db313a954a318b81f5283d34908397d1ea3aeba3&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gavinandresen",
      "html_url": "https://github.com/gavinandresen",
      "followers_url": "https://api.github.com/users/gavinandresen/followers",
      "following_url": "https://api.github.com/users/gavinandresen/following{/other_user}",
      "gists_url": "https://api.github.com/users/gavinandresen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gavinandresen/subscriptions",
      "organizations_url": "https://api.github.com/users/gavinandresen/orgs",
      "repos_url": "https://api.github.com/users/gavinandresen/repos",
      "events_url": "https://api.github.com/users/gavinandresen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gavinandresen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-21T01:08:53Z",
    "updated_at": "2013-10-21T01:08:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "Rebase needed.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/26687926/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27046226",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-27046226",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 27046226,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDQ2MjI2",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-10-25T00:29:45Z",
    "updated_at": "2013-10-25T00:29:45Z",
    "author_association": "MEMBER",
    "body": "Rebased.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27046226/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28204541",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-28204541",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 28204541,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjA0NTQx",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-11T14:40:07Z",
    "updated_at": "2013-11-11T14:40:07Z",
    "author_association": "MEMBER",
    "body": "Should this be closed now that #3185 is in?\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28204541/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28231466",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-28231466",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 28231466,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjMxNDY2",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-11-11T19:39:26Z",
    "updated_at": "2013-11-11T19:39:26Z",
    "author_association": "MEMBER",
    "body": "No, #3185 is entirely unrelated.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28231466/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29719634",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-29719634",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 29719634,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NzE5NjM0",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-12-03T15:35:52Z",
    "updated_at": "2013-12-03T15:35:52Z",
    "author_association": "MEMBER",
    "body": "Rebased on top of #3185.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29719634/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45372132",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-45372132",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 45372132,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MzcyMTMy",
    "user": {
      "login": "jgarzik",
      "id": 494411,
      "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/494411?u=0b02049ec38b6bb7d55c5c66d9bbeb0d4b822129&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jgarzik",
      "html_url": "https://github.com/jgarzik",
      "followers_url": "https://api.github.com/users/jgarzik/followers",
      "following_url": "https://api.github.com/users/jgarzik/following{/other_user}",
      "gists_url": "https://api.github.com/users/jgarzik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
      "organizations_url": "https://api.github.com/users/jgarzik/orgs",
      "repos_url": "https://api.github.com/users/jgarzik/repos",
      "events_url": "https://api.github.com/users/jgarzik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jgarzik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-06T18:55:32Z",
    "updated_at": "2014-06-06T18:55:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "Seems nominally OK, but I'm not convinced the CValidationState stuff is correct for all cases.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45372132/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47221140",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-47221140",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 47221140,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MjIxMTQw",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-26T12:50:10Z",
    "updated_at": "2014-06-26T14:43:42Z",
    "author_association": "MEMBER",
    "body": "Notes to self: We shouldn't store proposed orphan blocks (Edit: Confirmed, this doesn't). Ensure nBits is itself checked (Edit: via AcceptBlock).\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47221140/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47258303",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-47258303",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 47258303,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MjU4MzAz",
    "user": {
      "login": "BitcoinPullTester",
      "id": 2110907,
      "node_id": "MDQ6VXNlcjIxMTA5MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2110907?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BitcoinPullTester",
      "html_url": "https://github.com/BitcoinPullTester",
      "followers_url": "https://api.github.com/users/BitcoinPullTester/followers",
      "following_url": "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
      "gists_url": "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BitcoinPullTester/subscriptions",
      "organizations_url": "https://api.github.com/users/BitcoinPullTester/orgs",
      "repos_url": "https://api.github.com/users/BitcoinPullTester/repos",
      "events_url": "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BitcoinPullTester/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-26T18:01:52Z",
    "updated_at": "2014-06-26T18:01:52Z",
    "author_association": "NONE",
    "body": "Automatic sanity-testing: FAILED MERGE, see http://jenkins.bluematt.me/pull-tester/p1816_f21746c89f7b38440c471ad95bbd0158460ad677/ for test log.\n\nThis pull does not merge cleanly onto current master\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47258303/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/48959531",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-48959531",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 48959531,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4OTU5NTMx",
    "user": {
      "login": "gmaxwell",
      "id": 858454,
      "node_id": "MDQ6VXNlcjg1ODQ1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/858454?u=63e5c438c242094837a9deeda775d77988b508bf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gmaxwell",
      "html_url": "https://github.com/gmaxwell",
      "followers_url": "https://api.github.com/users/gmaxwell/followers",
      "following_url": "https://api.github.com/users/gmaxwell/following{/other_user}",
      "gists_url": "https://api.github.com/users/gmaxwell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
      "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
      "repos_url": "https://api.github.com/users/gmaxwell/repos",
      "events_url": "https://api.github.com/users/gmaxwell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-14T21:04:59Z",
    "updated_at": "2014-07-14T21:04:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "Needs rebase.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/48959531/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/51077896",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-51077896",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 51077896,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMDc3ODk2",
    "user": {
      "login": "jgarzik",
      "id": 494411,
      "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/494411?u=0b02049ec38b6bb7d55c5c66d9bbeb0d4b822129&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jgarzik",
      "html_url": "https://github.com/jgarzik",
      "followers_url": "https://api.github.com/users/jgarzik/followers",
      "following_url": "https://api.github.com/users/jgarzik/following{/other_user}",
      "gists_url": "https://api.github.com/users/jgarzik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
      "organizations_url": "https://api.github.com/users/jgarzik/orgs",
      "repos_url": "https://api.github.com/users/jgarzik/repos",
      "events_url": "https://api.github.com/users/jgarzik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jgarzik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-08-04T15:48:26Z",
    "updated_at": "2014-08-04T15:48:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "Sounds like the consensus on this is to merge, once rebased and [self-]notes addressed.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/51077896/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58907295",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-58907295",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 58907295,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4OTA3Mjk1",
    "user": {
      "login": "jgarzik",
      "id": 494411,
      "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/494411?u=0b02049ec38b6bb7d55c5c66d9bbeb0d4b822129&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jgarzik",
      "html_url": "https://github.com/jgarzik",
      "followers_url": "https://api.github.com/users/jgarzik/followers",
      "following_url": "https://api.github.com/users/jgarzik/following{/other_user}",
      "gists_url": "https://api.github.com/users/jgarzik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
      "organizations_url": "https://api.github.com/users/jgarzik/orgs",
      "repos_url": "https://api.github.com/users/jgarzik/repos",
      "events_url": "https://api.github.com/users/jgarzik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jgarzik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-13T15:18:45Z",
    "updated_at": "2014-10-13T15:18:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "ACK collection... @gmaxwell @sipa @laanwj @gavinandresen ?\n\nSeems like the consensus is to merge, and the author rebased as requested.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58907295/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58959157",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-58959157",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 58959157,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4OTU5MTU3",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-13T21:41:57Z",
    "updated_at": "2014-10-13T21:41:57Z",
    "author_association": "MEMBER",
    "body": "@sipa pointed out that ProcessBlock no longer performs the full validation of the new block, which breaks detecting such failures for this.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58959157/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58960126",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-58960126",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 58960126,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4OTYwMTI2",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-13T21:49:57Z",
    "updated_at": "2014-10-13T21:49:57Z",
    "author_association": "MEMBER",
    "body": "For that issue, see also https://github.com/bitcoin/bitcoin/pull/3727#issuecomment-50601253 and #5083 \n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58960126/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/61039399",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-61039399",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 61039399,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMDM5Mzk5",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-30T02:58:54Z",
    "updated_at": "2014-10-30T02:58:54Z",
    "author_association": "MEMBER",
    "body": "Rebased on top of #5106, #3727, and #5103\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/61039399/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63303416",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-63303416",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 63303416,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzMzAzNDE2",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-17T13:21:49Z",
    "updated_at": "2014-11-17T13:21:49Z",
    "author_association": "MEMBER",
    "body": "utACK apart from above nits - commithash b61b59f9ce680f6d514e377b5fe591f5a3f7c6e4 https://dev.visucore.com/bitcoin/acks/1816\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63303416/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63359249",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-63359249",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 63359249,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzMzU5MjQ5",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-17T19:20:56Z",
    "updated_at": "2014-11-17T19:20:56Z",
    "author_association": "MEMBER",
    "body": "Comments addressed and QA RPC tests added.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63359249/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63499105",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-63499105",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 63499105,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNDk5MTA1",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-18T16:30:40Z",
    "updated_at": "2014-11-18T16:30:40Z",
    "author_association": "MEMBER",
    "body": "@luke-jr I'm hacking a bit on this myself now (just so we don't do double work).\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63499105/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63503776",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-63503776",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 63503776,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTAzNzc2",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-18T16:56:30Z",
    "updated_at": "2014-11-18T16:56:30Z",
    "author_association": "MEMBER",
    "body": "@luke-jr See #5302. Feel free to disagree, cherry-pick, or edit into your commits.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63503776/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63613784",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-63613784",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 63613784,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNjEzNzg0",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-19T09:38:45Z",
    "updated_at": "2014-11-19T09:38:45Z",
    "author_association": "MEMBER",
    "body": "Seems ready to merge now? Ready to ACK this now @gmaxwell @sipa @gavinandresen ?\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63613784/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63736216",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-63736216",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 63736216,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNzM2MjE2",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-19T23:41:11Z",
    "updated_at": "2014-11-19T23:41:11Z",
    "author_association": "MEMBER",
    "body": "Untested ACK.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63736216/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63740164",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#issuecomment-63740164",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/1816",
    "id": 63740164,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNzQwMTY0",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-20T00:18:11Z",
    "updated_at": "2014-11-20T00:18:11Z",
    "author_association": "MEMBER",
    "body": "(Made the change @sipa suggested.)\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63740164/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1660813",
    "pull_request_review_id": null,
    "id": 1660813,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2NjA4MTM=",
    "diff_hunk": "@@ -837,6 +837,8 @@ class CBlock\n     // Denial-of-service detection:\n     mutable int nDoS;\n     bool DoS(int nDoSIn, bool fIn) const { nDoS += nDoSIn; return fIn; }\n+    mutable std::string strRejectReason;\n+    bool reject(const std::string& strRejectReasonIn, bool fIn) const { strRejectReason = strRejectReasonIn; return fIn; }",
    "path": "src/main.h",
    "position": null,
    "original_position": 23,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "8f976aaa862c933c41c153007d0ffe3093ff475b",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I really don't like CBlocks storing their own reject string, seems like a layer violation. Maybe not directly related to this change, as nDoS does the same.\n\nI'd rather see a CValidationResult which stores such information, which is returned or pass-by-ref inside the block- and transaction validation functions. That's maybe out of scope for this change, though.\n",
    "created_at": "2012-09-21T12:55:09Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r1660813",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1660813"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r1660813"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1660813/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 841,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2846549",
    "pull_request_review_id": null,
    "id": 2846549,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NDY1NDk=",
    "diff_hunk": "@@ -2241,13 +2251,25 @@ bool ProcessBlock(CValidationState &state, CNode* pfrom, CBlock* pblock, CDiskBl\n             // Ask this guy to fill in what we're missing\n             pfrom->PushGetBlocks(pindexBest, GetOrphanRoot(pblock2));\n         }\n-        return true;\n+        // The block is accepted, but not immediately processed\n+        return state.Orphan();\n     }\n \n     // Store to disk\n-    if (!pblock->AcceptBlock(state, dbp))\n+    if (!pblock->AcceptBlock(state, dbp, fHasPOW))\n         return error(\"ProcessBlock() : AcceptBlock FAILED\");\n \n+    if (!fHasPOW)\n+    {\n+        // The block isn't committed to disk since it was just a proposal, but we need to do connect checks still\n+        CBlockIndex* pindexPrev = mapBlockIndex[pblock->hashPrevBlock];\n+        CBlockIndex indexDummy(*pblock);\n+        indexDummy.pprev = pindexPrev;\n+        indexDummy.nHeight = pindexPrev->nHeight + 1;\n+        CCoinsViewCache viewNew(*pcoinsTip, true);\n+        return pblock->ConnectBlock(state, &indexDummy, viewNew, true);",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 296,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "999365d9bad34957c5da34ed63c1690e4ee09caf",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This seems to have a race condition - or maybe just a bug when proposing based on a not-the-most-recent prevblock.\n",
    "created_at": "2013-01-31T16:57:44Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r2846549",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2846549"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r2846549"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2846549/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2270,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2864980",
    "pull_request_review_id": null,
    "id": 2864980,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NjQ5ODA=",
    "diff_hunk": "@@ -1810,7 +1810,7 @@ bool SetBestChain(CValidationState &state, CBlockIndex* pindexNew)\n         // an overestimation, as most will delete an existing entry or\n         // overwrite one. Still, use a conservative safety factor of 2.\n         if (!CheckDiskSpace(100 * 2 * 2 * pcoinsTip->GetCacheSize()))\n-            return state.Error();\n+            return state.Error(\"out of disk space\");",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 68,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "61814c3953a6fc11e21e9d60de066dd5d3d46b13",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I thought about adding these, too :), nice you catched that.\n",
    "created_at": "2013-02-01T20:45:02Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r2864980",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2864980"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r2864980"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2864980/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1772,
    "original_line": 1813,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2865117",
    "pull_request_review_id": null,
    "id": 2865117,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NjUxMTc=",
    "diff_hunk": "@@ -2194,19 +2197,26 @@ bool CBlockIndex::IsSuperMajority(int minVersion, const CBlockIndex* pstart, uns\n     return (nFound >= nRequired);\n }\n \n-bool ProcessBlock(CValidationState &state, CNode* pfrom, CBlock* pblock, CDiskBlockPos *dbp)\n+bool ProcessBlock(CValidationState &state, CNode* pfrom, CBlock* pblock, CDiskBlockPos *dbp, bool fCheckPOW)\n {\n     // Check for duplicate\n     uint256 hash = pblock->GetHash();\n     if (mapBlockIndex.count(hash))\n-        return state.Invalid(error(\"ProcessBlock() : already have block %d %s\", mapBlockIndex[hash]->nHeight, BlockHashStr(hash).c_str()));\n+        return state.Invalid(\"duplicate\", error(\"ProcessBlock() : already have block %d %s\", mapBlockIndex[hash]->nHeight, BlockHashStr(hash).c_str()));\n     if (mapOrphanBlocks.count(hash))\n-        return state.Invalid(error(\"ProcessBlock() : already have block (orphan) %s\", BlockHashStr(hash).c_str()));\n+        return state.Invalid(\"duplicate\", error(\"ProcessBlock() : already have block (orphan) %s\", BlockHashStr(hash).c_str()));\n \n     // Preliminary checks\n-    if (!pblock->CheckBlock(state))\n+    if (!pblock->CheckBlock(state, fCheckPOW))\n         return error(\"ProcessBlock() : CheckBlock FAILED\");\n \n+    bool fHasPOW = fCheckPOW;",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 246,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "61814c3953a6fc11e21e9d60de066dd5d3d46b13",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Why do you assign fCheckPOW here? I know that works, but I would set it to false and use fCheckPOW in the following if-clause.\nSo we have fCheckPOW for calling CheckProofOfWork(), which writes it's result to fHasPOW.\n",
    "created_at": "2013-02-01T20:56:46Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r2865117",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2865117"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r2865117"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2865117/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2213,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2865589",
    "pull_request_review_id": null,
    "id": 2865589,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NjU1ODk=",
    "diff_hunk": "@@ -2194,19 +2197,26 @@ bool CBlockIndex::IsSuperMajority(int minVersion, const CBlockIndex* pstart, uns\n     return (nFound >= nRequired);\n }\n \n-bool ProcessBlock(CValidationState &state, CNode* pfrom, CBlock* pblock, CDiskBlockPos *dbp)\n+bool ProcessBlock(CValidationState &state, CNode* pfrom, CBlock* pblock, CDiskBlockPos *dbp, bool fCheckPOW)\n {\n     // Check for duplicate\n     uint256 hash = pblock->GetHash();\n     if (mapBlockIndex.count(hash))\n-        return state.Invalid(error(\"ProcessBlock() : already have block %d %s\", mapBlockIndex[hash]->nHeight, BlockHashStr(hash).c_str()));\n+        return state.Invalid(\"duplicate\", error(\"ProcessBlock() : already have block %d %s\", mapBlockIndex[hash]->nHeight, BlockHashStr(hash).c_str()));\n     if (mapOrphanBlocks.count(hash))\n-        return state.Invalid(error(\"ProcessBlock() : already have block (orphan) %s\", BlockHashStr(hash).c_str()));\n+        return state.Invalid(\"duplicate\", error(\"ProcessBlock() : already have block (orphan) %s\", BlockHashStr(hash).c_str()));\n \n     // Preliminary checks\n-    if (!pblock->CheckBlock(state))\n+    if (!pblock->CheckBlock(state, fCheckPOW))\n         return error(\"ProcessBlock() : CheckBlock FAILED\");\n \n+    bool fHasPOW = fCheckPOW;",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 246,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "61814c3953a6fc11e21e9d60de066dd5d3d46b13",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "CheckBlock calls CheckProofOfWork if fCheckPOW is true.\n",
    "created_at": "2013-02-01T21:29:58Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r2865589",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2865589"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r2865589"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2865589/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2213,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2865704",
    "pull_request_review_id": null,
    "id": 2865704,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NjU3MDQ=",
    "diff_hunk": "@@ -2241,13 +2251,25 @@ bool ProcessBlock(CValidationState &state, CNode* pfrom, CBlock* pblock, CDiskBl\n             // Ask this guy to fill in what we're missing\n             pfrom->PushGetBlocks(pindexBest, GetOrphanRoot(pblock2));\n         }\n-        return true;\n+        // The block is accepted, but not immediately processed\n+        return state.Orphan();\n     }\n \n     // Store to disk\n-    if (!pblock->AcceptBlock(state, dbp))\n+    if (!pblock->AcceptBlock(state, dbp, fHasPOW))\n         return error(\"ProcessBlock() : AcceptBlock FAILED\");\n \n+    if (!fHasPOW)\n+    {\n+        // The block isn't committed to disk since it was just a proposal, but we need to do connect checks still\n+        CBlockIndex* pindexPrev = mapBlockIndex[pblock->hashPrevBlock];\n+        CBlockIndex indexDummy(*pblock);\n+        indexDummy.pprev = pindexPrev;\n+        indexDummy.nHeight = pindexPrev->nHeight + 1;\n+        CCoinsViewCache viewNew(*pcoinsTip, true);\n+        return pblock->ConnectBlock(state, &indexDummy, viewNew, true);",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 296,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "999365d9bad34957c5da34ed63c1690e4ee09caf",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixed in current code (stale-prevblk check above)\n",
    "created_at": "2013-02-01T21:38:43Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r2865704",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2865704"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r2865704"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2865704/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2270,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2866017",
    "pull_request_review_id": null,
    "id": 2866017,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NjYwMTc=",
    "diff_hunk": "@@ -2194,19 +2197,26 @@ bool CBlockIndex::IsSuperMajority(int minVersion, const CBlockIndex* pstart, uns\n     return (nFound >= nRequired);\n }\n \n-bool ProcessBlock(CValidationState &state, CNode* pfrom, CBlock* pblock, CDiskBlockPos *dbp)\n+bool ProcessBlock(CValidationState &state, CNode* pfrom, CBlock* pblock, CDiskBlockPos *dbp, bool fCheckPOW)\n {\n     // Check for duplicate\n     uint256 hash = pblock->GetHash();\n     if (mapBlockIndex.count(hash))\n-        return state.Invalid(error(\"ProcessBlock() : already have block %d %s\", mapBlockIndex[hash]->nHeight, BlockHashStr(hash).c_str()));\n+        return state.Invalid(\"duplicate\", error(\"ProcessBlock() : already have block %d %s\", mapBlockIndex[hash]->nHeight, BlockHashStr(hash).c_str()));\n     if (mapOrphanBlocks.count(hash))\n-        return state.Invalid(error(\"ProcessBlock() : already have block (orphan) %s\", BlockHashStr(hash).c_str()));\n+        return state.Invalid(\"duplicate\", error(\"ProcessBlock() : already have block (orphan) %s\", BlockHashStr(hash).c_str()));\n \n     // Preliminary checks\n-    if (!pblock->CheckBlock(state))\n+    if (!pblock->CheckBlock(state, fCheckPOW))\n         return error(\"ProcessBlock() : CheckBlock FAILED\");\n \n+    bool fHasPOW = fCheckPOW;",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 246,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "61814c3953a6fc11e21e9d60de066dd5d3d46b13",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I just wanted you to differentiate between fCheckPOW and fHasPOW, which you don't do with the current initialisation, that's all :).\n",
    "created_at": "2013-02-01T22:00:07Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r2866017",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2866017"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r2866017"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2866017/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2213,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2866499",
    "pull_request_review_id": null,
    "id": 2866499,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NjY0OTk=",
    "diff_hunk": "@@ -2194,19 +2197,26 @@ bool CBlockIndex::IsSuperMajority(int minVersion, const CBlockIndex* pstart, uns\n     return (nFound >= nRequired);\n }\n \n-bool ProcessBlock(CValidationState &state, CNode* pfrom, CBlock* pblock, CDiskBlockPos *dbp)\n+bool ProcessBlock(CValidationState &state, CNode* pfrom, CBlock* pblock, CDiskBlockPos *dbp, bool fCheckPOW)\n {\n     // Check for duplicate\n     uint256 hash = pblock->GetHash();\n     if (mapBlockIndex.count(hash))\n-        return state.Invalid(error(\"ProcessBlock() : already have block %d %s\", mapBlockIndex[hash]->nHeight, BlockHashStr(hash).c_str()));\n+        return state.Invalid(\"duplicate\", error(\"ProcessBlock() : already have block %d %s\", mapBlockIndex[hash]->nHeight, BlockHashStr(hash).c_str()));\n     if (mapOrphanBlocks.count(hash))\n-        return state.Invalid(error(\"ProcessBlock() : already have block (orphan) %s\", BlockHashStr(hash).c_str()));\n+        return state.Invalid(\"duplicate\", error(\"ProcessBlock() : already have block (orphan) %s\", BlockHashStr(hash).c_str()));\n \n     // Preliminary checks\n-    if (!pblock->CheckBlock(state))\n+    if (!pblock->CheckBlock(state, fCheckPOW))\n         return error(\"ProcessBlock() : CheckBlock FAILED\");\n \n+    bool fHasPOW = fCheckPOW;",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 246,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "61814c3953a6fc11e21e9d60de066dd5d3d46b13",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "fCheckPOW is \"should the function check the proof-of-work?\"\nfHasPOW is \"does the block in fact satisfy the proof-of-work?\"\n",
    "created_at": "2013-02-01T22:37:52Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r2866499",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2866499"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r2866499"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2866499/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2213,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2866582",
    "pull_request_review_id": null,
    "id": 2866582,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NjY1ODI=",
    "diff_hunk": "@@ -2194,19 +2197,26 @@ bool CBlockIndex::IsSuperMajority(int minVersion, const CBlockIndex* pstart, uns\n     return (nFound >= nRequired);\n }\n \n-bool ProcessBlock(CValidationState &state, CNode* pfrom, CBlock* pblock, CDiskBlockPos *dbp)\n+bool ProcessBlock(CValidationState &state, CNode* pfrom, CBlock* pblock, CDiskBlockPos *dbp, bool fCheckPOW)\n {\n     // Check for duplicate\n     uint256 hash = pblock->GetHash();\n     if (mapBlockIndex.count(hash))\n-        return state.Invalid(error(\"ProcessBlock() : already have block %d %s\", mapBlockIndex[hash]->nHeight, BlockHashStr(hash).c_str()));\n+        return state.Invalid(\"duplicate\", error(\"ProcessBlock() : already have block %d %s\", mapBlockIndex[hash]->nHeight, BlockHashStr(hash).c_str()));\n     if (mapOrphanBlocks.count(hash))\n-        return state.Invalid(error(\"ProcessBlock() : already have block (orphan) %s\", BlockHashStr(hash).c_str()));\n+        return state.Invalid(\"duplicate\", error(\"ProcessBlock() : already have block (orphan) %s\", BlockHashStr(hash).c_str()));\n \n     // Preliminary checks\n-    if (!pblock->CheckBlock(state))\n+    if (!pblock->CheckBlock(state, fCheckPOW))\n         return error(\"ProcessBlock() : CheckBlock FAILED\");\n \n+    bool fHasPOW = fCheckPOW;",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 246,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "61814c3953a6fc11e21e9d60de066dd5d3d46b13",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I know, you just dont seem to understand, what I am trying to tell you ;-).\n",
    "created_at": "2013-02-01T22:46:51Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r2866582",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2866582"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r2866582"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2866582/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2213,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14175122",
    "pull_request_review_id": null,
    "id": 14175122,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTc1MTIy",
    "diff_hunk": "@@ -2307,6 +2307,9 @@ bool AcceptBlock(CBlock& block, CValidationState& state, CDiskBlockPos* dbp)\n         }\n     }\n \n+    if (!fWriteToDisk)",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 35,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "6707a08edb3706c71c00c4a7b3b843e3cbce9e79",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Instead of adding a fWriteToDisk boolean argument, wouldn't it be more clear to split up the function in a checking and disk-writing part?\n",
    "created_at": "2014-06-25T09:04:34Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r14175122",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14175122"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r14175122"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14175122/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2310,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14175156",
    "pull_request_review_id": null,
    "id": 14175156,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTc1MTU2",
    "diff_hunk": "@@ -2372,7 +2375,7 @@ void PushGetBlocks(CNode* pnode, CBlockIndex* pindexBegin, uint256 hashEnd)\n     pnode->PushMessage(\"getblocks\", chainActive.GetLocator(pindexBegin), hashEnd);\n }\n \n-bool ProcessBlock(CValidationState &state, CNode* pfrom, CBlock* pblock, CDiskBlockPos *dbp)\n+bool ProcessBlock(CValidationState &state, CNode* pfrom, CBlock* pblock, CDiskBlockPos *dbp, bool fCheckPOW)",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 46,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "6707a08edb3706c71c00c4a7b3b843e3cbce9e79",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Same here. I'm not a fan of boolean arguments that change the functionality of a function to something completely different. Would prefer just having two functions and moving the common stuff to a third.\n",
    "created_at": "2014-06-25T09:05:45Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r14175156",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14175156"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r14175156"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14175156/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2378,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14238790",
    "pull_request_review_id": null,
    "id": 14238790,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MjM4Nzkw",
    "diff_hunk": "@@ -2307,6 +2307,9 @@ bool AcceptBlock(CBlock& block, CValidationState& state, CDiskBlockPos* dbp)\n         }\n     }\n \n+    if (!fWriteToDisk)",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 35,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "6707a08edb3706c71c00c4a7b3b843e3cbce9e79",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Splitting up these means the new split functions would need to assume the mutex is held already (thus not get it themselves) to ensure the mutex isn't released between checks & writing - forcing the callers to hold the mutex instead. In which case IMO those new methods would best be private, and the current AcceptBlock interface (with fWriteToDisk added) exposed as a wrapper. Is that a change that still makes sense to you?\n",
    "created_at": "2014-06-26T13:09:00Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r14238790",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14238790"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r14238790"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14238790/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2310,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/15763154",
    "pull_request_review_id": null,
    "id": 15763154,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzYzMTU0",
    "diff_hunk": "@@ -2307,6 +2307,9 @@ bool AcceptBlock(CBlock& block, CValidationState& state, CDiskBlockPos* dbp)\n         }\n     }\n \n+    if (!fWriteToDisk)",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 35,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "6707a08edb3706c71c00c4a7b3b843e3cbce9e79",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Sounds fair to me. Except for adding a fWriteToDisk boolean argument, which was my problem with this in the first place. The idea would be to have two functions, one that only checks and one that checks and writes to disk.\n",
    "created_at": "2014-08-04T15:59:47Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r15763154",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/15763154"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r15763154"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/15763154/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2310,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20432912",
    "pull_request_review_id": null,
    "id": 20432912,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNDMyOTEy",
    "diff_hunk": "@@ -2391,15 +2391,48 @@ bool AcceptBlockHeader(const CBlockHeader& block, CValidationState& state, CBloc\n         }\n     }\n \n-    if (pindex == NULL)\n-        pindex = AddToBlockIndex(block);\n-\n     if (ppindex)\n         *ppindex = pindex;\n \n     return true;\n }\n \n+bool ContextualCheckBlock(const CBlock& block, CValidationState& state, CBlockIndex* const & pindexPrev)\n+{\n+    const int nHeight = pindexPrev->nHeight + 1;\n+\n+    // Check that all transactions are finalized\n+    BOOST_FOREACH(const CTransaction& tx, block.vtx)\n+        if (!IsFinalTx(tx, nHeight, block.GetBlockTime())) {\n+            return state.DoS(10, error(\"AcceptBlock() : contains a non-final transaction\"),\n+                             REJECT_INVALID, \"bad-txns-nonfinal\");\n+        }\n+\n+    // Enforce block.nVersion=2 rule that the coinbase starts with serialized block height\n+    // if 750 of the last 1,000 blocks are version 2 or greater (51/100 if testnet):\n+    if (block.nVersion >= 2 && \n+        CBlockIndex::IsSuperMajority(2, pindexPrev, Params().EnforceBlockUpgradeMajority()))\n+    {\n+        CScript expect = CScript() << nHeight;\n+        if (block.vtx[0].vin[0].scriptSig.size() < expect.size() ||\n+            !std::equal(expect.begin(), expect.end(), block.vtx[0].vin[0].scriptSig.begin())) {\n+            return state.DoS(100, error(\"AcceptBlock() : block height mismatch in coinbase\"), REJECT_INVALID, \"bad-cb-height\");\n+        }\n+    }\n+\n+    return true;\n+}\n+\n+bool AcceptBlockHeader(const CBlockHeader& block, CValidationState& state, CBlockIndex** ppindex)\n+{\n+    if (!ContextualCheckBlockHeader(block, state, ppindex))\n+        return false;\n+\n+    if (!*ppindex)",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 62,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "76590af5bd2ceae7d2e3f11982d20739063cde1b",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Please check ppindex itself for NULL as well before this assignment, as was the case in the old code\n",
    "created_at": "2014-11-17T12:46:35Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20432912",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20432912"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20432912"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20432912/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2431,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20433050",
    "pull_request_review_id": null,
    "id": 20433050,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNDMzMDUw",
    "diff_hunk": "@@ -462,6 +513,10 @@ Value getblocktemplate(const Array& params, bool fHelp)\n     UpdateTime(pblock, pindexPrev);\n     pblock->nNonce = 0;\n \n+    static Array aCaps;",
    "path": "src/rpcmining.cpp",
    "position": null,
    "original_position": 69,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "76590af5bd2ceae7d2e3f11982d20739063cde1b",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Making this Array static looks like premature optimization to me. I'd worry about multiple threads using it at the same time (resulting in race conditions). I'd prefer to just build it when needed.\n",
    "created_at": "2014-11-17T12:49:32Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20433050",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20433050"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20433050"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20433050/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 516,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20433265",
    "pull_request_review_id": null,
    "id": 20433265,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNDMzMjY1",
    "diff_hunk": "@@ -457,12 +457,19 @@ bool ReadBlockFromDisk(CBlock& block, const CBlockIndex* pindex);\n bool DisconnectBlock(CBlock& block, CValidationState& state, CBlockIndex* pindex, CCoinsViewCache& coins, bool* pfClean = NULL);\n \n // Apply the effects of this block (with given index) on the UTXO set represented by coins\n-bool ConnectBlock(CBlock& block, CValidationState& state, CBlockIndex* pindex, CCoinsViewCache& coins, bool fJustCheck = false);\n+bool ConnectBlock(const CBlock& block, CValidationState& state, CBlockIndex* pindex, CCoinsViewCache& coins, bool fJustCheck = false);\n \n // Context-independent validity checks\n bool CheckBlockHeader(const CBlockHeader& block, CValidationState& state, bool fCheckPOW = true);\n bool CheckBlock(const CBlock& block, CValidationState& state, bool fCheckPOW = true, bool fCheckMerkleRoot = true);\n \n+// Context-dependent validity checks\n+bool ContextualCheckBlockHeader(const CBlockHeader& block, CValidationState& state, CBlockIndex **ppindex= NULL);\n+bool ContextualCheckBlock(const CBlock& block, CValidationState& state, CBlockIndex* const & pindexPrev);",
    "path": "src/main.h",
    "position": null,
    "original_position": 13,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "76590af5bd2ceae7d2e3f11982d20739063cde1b",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "What is the reason to pass a `CBlockIndex* const &` instead of just a `const CBlockIndex *` for `pindexPrev`? (same for `TestBlockValidity` below)\n",
    "created_at": "2014-11-17T12:55:10Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20433265",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20433265"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20433265"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20433265/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 468,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20433561",
    "pull_request_review_id": null,
    "id": 20433561,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNDMzNTYx",
    "diff_hunk": "@@ -2391,15 +2391,48 @@ bool AcceptBlockHeader(const CBlockHeader& block, CValidationState& state, CBloc\n         }\n     }\n \n-    if (pindex == NULL)\n-        pindex = AddToBlockIndex(block);\n-\n     if (ppindex)\n         *ppindex = pindex;\n \n     return true;\n }\n \n+bool ContextualCheckBlock(const CBlock& block, CValidationState& state, CBlockIndex* const & pindexPrev)\n+{\n+    const int nHeight = pindexPrev->nHeight + 1;\n+\n+    // Check that all transactions are finalized\n+    BOOST_FOREACH(const CTransaction& tx, block.vtx)\n+        if (!IsFinalTx(tx, nHeight, block.GetBlockTime())) {\n+            return state.DoS(10, error(\"AcceptBlock() : contains a non-final transaction\"),",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 38,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "76590af5bd2ceae7d2e3f11982d20739063cde1b",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`pindex->nStatus |= BLOCK_FAILED_VALID;` was removed here - verified that it still happens:\n- This call to `state.DoS` (and the one below) sets `state.mode = MODE_INVALID` and `state.corruptionPossible = false`\n- After return in `AcceptBlock`, where this code comes from, the check `state.IsInvalid() && !state.CorruptionPossible()` is made, in which case `pindex->nStatus |= BLOCK_FAILED_VALID`\n",
    "created_at": "2014-11-17T13:01:12Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20433561",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20433561"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20433561"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20433561/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2407,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20433597",
    "pull_request_review_id": null,
    "id": 20433597,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNDMzNTk3",
    "diff_hunk": "@@ -2391,15 +2391,48 @@ bool AcceptBlockHeader(const CBlockHeader& block, CValidationState& state, CBloc\n         }\n     }\n \n-    if (pindex == NULL)\n-        pindex = AddToBlockIndex(block);\n-\n     if (ppindex)\n         *ppindex = pindex;\n \n     return true;\n }\n \n+bool ContextualCheckBlock(const CBlock& block, CValidationState& state, CBlockIndex* const & pindexPrev)\n+{\n+    const int nHeight = pindexPrev->nHeight + 1;\n+\n+    // Check that all transactions are finalized\n+    BOOST_FOREACH(const CTransaction& tx, block.vtx)\n+        if (!IsFinalTx(tx, nHeight, block.GetBlockTime())) {\n+            return state.DoS(10, error(\"AcceptBlock() : contains a non-final transaction\"),",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 38,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "76590af5bd2ceae7d2e3f11982d20739063cde1b",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: please use %s w/ `__func__` here for the error, so that it shows the right function name instead of `AcceptBlock()` (same on line 2419)\n",
    "created_at": "2014-11-17T13:02:01Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20433597",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20433597"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20433597"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20433597/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2407,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20433964",
    "pull_request_review_id": null,
    "id": 20433964,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNDMzOTY0",
    "diff_hunk": "@@ -2555,6 +2567,32 @@ bool ProcessNewBlock(CValidationState &state, CNode* pfrom, CBlock* pblock, CDis\n     return true;\n }\n \n+bool TestBlockValidity(CValidationState &state, const CBlock& block, CBlockIndex * const &pindexPrev, bool fCheckPOW, bool fCheckMerkleRoot)\n+{\n+    AssertLockHeld(cs_main);\n+    assert(pindexPrev == chainActive.Tip());\n+\n+    CCoinsViewCache viewNew(pcoinsTip);\n+    CBlockIndex indexDummy(block);\n+    indexDummy.pprev = pindexPrev;\n+    indexDummy.nHeight = pindexPrev->nHeight + 1;\n+\n+    // NOTE: CheckBlockHeader is called by CheckBlock\n+    // NOTE: ContextualCheckBlockHeader only assigns ppindex, which we don't need/want\n+    if (!ContextualCheckBlockHeader(block, state, NULL))\n+        return false;\n+    if (!CheckBlock(block, state, fCheckPOW, fCheckMerkleRoot))\n+        return false;\n+    if (!ContextualCheckBlock(block, state, pindexPrev))\n+        return false;\n+    if (!ConnectBlock(block, state, &indexDummy, viewNew, true))\n+        return false;\n+    if (!state.IsValid())",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 131,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "76590af5bd2ceae7d2e3f11982d20739063cde1b",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This shouldn't be necessary (but won't hurt): if any CValidationState-updating function sets a non-valid state, it should return false already, so this could be replaced by an assert(state.IsValid());\n",
    "created_at": "2014-11-17T13:11:07Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20433964",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20433964"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20433964"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20433964/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2590,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20434035",
    "pull_request_review_id": null,
    "id": 20434035,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNDM0MDM1",
    "diff_hunk": "@@ -457,12 +457,19 @@ bool ReadBlockFromDisk(CBlock& block, const CBlockIndex* pindex);\n bool DisconnectBlock(CBlock& block, CValidationState& state, CBlockIndex* pindex, CCoinsViewCache& coins, bool* pfClean = NULL);\n \n // Apply the effects of this block (with given index) on the UTXO set represented by coins\n-bool ConnectBlock(CBlock& block, CValidationState& state, CBlockIndex* pindex, CCoinsViewCache& coins, bool fJustCheck = false);\n+bool ConnectBlock(const CBlock& block, CValidationState& state, CBlockIndex* pindex, CCoinsViewCache& coins, bool fJustCheck = false);\n \n // Context-independent validity checks\n bool CheckBlockHeader(const CBlockHeader& block, CValidationState& state, bool fCheckPOW = true);\n bool CheckBlock(const CBlock& block, CValidationState& state, bool fCheckPOW = true, bool fCheckMerkleRoot = true);\n \n+// Context-dependent validity checks\n+bool ContextualCheckBlockHeader(const CBlockHeader& block, CValidationState& state, CBlockIndex **ppindex= NULL);\n+bool ContextualCheckBlock(const CBlock& block, CValidationState& state, CBlockIndex* const & pindexPrev);",
    "path": "src/main.h",
    "position": null,
    "original_position": 13,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "76590af5bd2ceae7d2e3f11982d20739063cde1b",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I expect it's to minimize the differences in the code that's moving from the Accept\\* functions to the ContextualCheck\\* functions. But I agree it would be cleaner to just pass in a CBlockIndex*.\n",
    "created_at": "2014-11-17T13:12:48Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20434035",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20434035"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20434035"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20434035/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 468,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20434125",
    "pull_request_review_id": null,
    "id": 20434125,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNDM0MTI1",
    "diff_hunk": "@@ -283,6 +283,38 @@ Value prioritisetransaction(const Array& params, bool fHelp)\n }\n \n \n+static bool DecodeHexBlk(CBlock& block, const std::string hexblock)",
    "path": "src/rpcmining.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "76590af5bd2ceae7d2e3f11982d20739063cde1b",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Can this go in core_read/core_io?\n",
    "created_at": "2014-11-17T13:15:11Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20434125",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20434125"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20434125"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20434125/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 286,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20434724",
    "pull_request_review_id": null,
    "id": 20434724,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNDM0NzI0",
    "diff_hunk": "@@ -283,6 +283,38 @@ Value prioritisetransaction(const Array& params, bool fHelp)\n }\n \n \n+static bool DecodeHexBlk(CBlock& block, const std::string hexblock)\n+{\n+    vector<unsigned char> blockData(ParseHex(hexblock));\n+    CDataStream ssBlock(blockData, SER_NETWORK, PROTOCOL_VERSION);\n+    try {\n+        ssBlock >> block;\n+        return true;\n+    }\n+    catch (const std::exception &) {\n+        return false;\n+    }\n+}\n+\n+// NOTE: Assumes a conclusive result; if result is inconclusive, it must be handled by caller\n+static Value BIP22ValidationResult(const CValidationState state)",
    "path": "src/rpcmining.cpp",
    "position": null,
    "original_position": 18,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "76590af5bd2ceae7d2e3f11982d20739063cde1b",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Pass by reference?\n",
    "created_at": "2014-11-17T13:30:54Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20434724",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20434724"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20434724"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20434724/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 300,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20435120",
    "pull_request_review_id": null,
    "id": 20435120,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNDM1MTIw",
    "diff_hunk": "@@ -2391,15 +2391,48 @@ bool AcceptBlockHeader(const CBlockHeader& block, CValidationState& state, CBloc\n         }\n     }\n \n-    if (pindex == NULL)\n-        pindex = AddToBlockIndex(block);\n-\n     if (ppindex)\n         *ppindex = pindex;\n \n     return true;\n }\n \n+bool ContextualCheckBlock(const CBlock& block, CValidationState& state, CBlockIndex* const & pindexPrev)\n+{\n+    const int nHeight = pindexPrev->nHeight + 1;\n+\n+    // Check that all transactions are finalized\n+    BOOST_FOREACH(const CTransaction& tx, block.vtx)\n+        if (!IsFinalTx(tx, nHeight, block.GetBlockTime())) {\n+            return state.DoS(10, error(\"AcceptBlock() : contains a non-final transaction\"),",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 38,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "76590af5bd2ceae7d2e3f11982d20739063cde1b",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Indeed, I like moving those manual nStatus updates out.\n",
    "created_at": "2014-11-17T13:41:43Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20435120",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20435120"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20435120"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20435120/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2407,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20435368",
    "pull_request_review_id": null,
    "id": 20435368,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNDM1MzY4",
    "diff_hunk": "@@ -2555,6 +2567,32 @@ bool ProcessNewBlock(CValidationState &state, CNode* pfrom, CBlock* pblock, CDis\n     return true;\n }\n \n+bool TestBlockValidity(CValidationState &state, const CBlock& block, CBlockIndex * const &pindexPrev, bool fCheckPOW, bool fCheckMerkleRoot)\n+{\n+    AssertLockHeld(cs_main);\n+    assert(pindexPrev == chainActive.Tip());\n+\n+    CCoinsViewCache viewNew(pcoinsTip);\n+    CBlockIndex indexDummy(block);\n+    indexDummy.pprev = pindexPrev;\n+    indexDummy.nHeight = pindexPrev->nHeight + 1;\n+\n+    // NOTE: CheckBlockHeader is called by CheckBlock\n+    // NOTE: ContextualCheckBlockHeader only assigns ppindex, which we don't need/want",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 122,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "76590af5bd2ceae7d2e3f11982d20739063cde1b",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Does it? It seems AcceptBlockHeader does...\n\nEDIT: Ignore, I misread.\n",
    "created_at": "2014-11-17T13:44:51Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20435368",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20435368"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20435368"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20435368/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2581,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20435441",
    "pull_request_review_id": null,
    "id": 20435441,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNDM1NDQx",
    "diff_hunk": "@@ -462,6 +513,10 @@ Value getblocktemplate(const Array& params, bool fHelp)\n     UpdateTime(pblock, pindexPrev);\n     pblock->nNonce = 0;\n \n+    static Array aCaps;",
    "path": "src/rpcmining.cpp",
    "position": null,
    "original_position": 69,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "76590af5bd2ceae7d2e3f11982d20739063cde1b",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Agree.\n",
    "created_at": "2014-11-17T13:46:21Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20435441",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20435441"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20435441"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20435441/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 516,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20447432",
    "pull_request_review_id": null,
    "id": 20447432,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNDQ3NDMy",
    "diff_hunk": "@@ -283,6 +283,38 @@ Value prioritisetransaction(const Array& params, bool fHelp)\n }\n \n \n+static bool DecodeHexBlk(CBlock& block, const std::string hexblock)\n+{\n+    vector<unsigned char> blockData(ParseHex(hexblock));\n+    CDataStream ssBlock(blockData, SER_NETWORK, PROTOCOL_VERSION);\n+    try {\n+        ssBlock >> block;\n+        return true;\n+    }\n+    catch (const std::exception &) {\n+        return false;\n+    }\n+}\n+\n+// NOTE: Assumes a conclusive result; if result is inconclusive, it must be handled by caller\n+static Value BIP22ValidationResult(const CValidationState state)",
    "path": "src/rpcmining.cpp",
    "position": null,
    "original_position": 18,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "76590af5bd2ceae7d2e3f11982d20739063cde1b",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Does it matter for const?\n",
    "created_at": "2014-11-17T16:48:41Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20447432",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20447432"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20447432"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20447432/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 300,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20447464",
    "pull_request_review_id": null,
    "id": 20447464,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNDQ3NDY0",
    "diff_hunk": "@@ -462,6 +513,10 @@ Value getblocktemplate(const Array& params, bool fHelp)\n     UpdateTime(pblock, pindexPrev);\n     pblock->nNonce = 0;\n \n+    static Array aCaps;",
    "path": "src/rpcmining.cpp",
    "position": null,
    "original_position": 69,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "76590af5bd2ceae7d2e3f11982d20739063cde1b",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Any way we can just make this a static const Array somehow? That seems cleanest, but not sure if it's possible to do in C++ :/\n",
    "created_at": "2014-11-17T16:49:11Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20447464",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20447464"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20447464"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20447464/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 516,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20447506",
    "pull_request_review_id": null,
    "id": 20447506,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNDQ3NTA2",
    "diff_hunk": "@@ -283,6 +283,38 @@ Value prioritisetransaction(const Array& params, bool fHelp)\n }\n \n \n+static bool DecodeHexBlk(CBlock& block, const std::string hexblock)\n+{\n+    vector<unsigned char> blockData(ParseHex(hexblock));\n+    CDataStream ssBlock(blockData, SER_NETWORK, PROTOCOL_VERSION);\n+    try {\n+        ssBlock >> block;\n+        return true;\n+    }\n+    catch (const std::exception &) {\n+        return false;\n+    }\n+}\n+\n+// NOTE: Assumes a conclusive result; if result is inconclusive, it must be handled by caller\n+static Value BIP22ValidationResult(const CValidationState state)",
    "path": "src/rpcmining.cpp",
    "position": null,
    "original_position": 18,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "76590af5bd2ceae7d2e3f11982d20739063cde1b",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Avoiding a copy.\n",
    "created_at": "2014-11-17T16:49:50Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20447506",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20447506"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20447506"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20447506/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 300,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20447617",
    "pull_request_review_id": null,
    "id": 20447617,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNDQ3NjE3",
    "diff_hunk": "@@ -462,6 +513,10 @@ Value getblocktemplate(const Array& params, bool fHelp)\n     UpdateTime(pblock, pindexPrev);\n     pblock->nNonce = 0;\n \n+    static Array aCaps;",
    "path": "src/rpcmining.cpp",
    "position": null,
    "original_position": 69,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "76590af5bd2ceae7d2e3f11982d20739063cde1b",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "static const Array aCaps = boost::assign::list_of(\"proposal\");\n",
    "created_at": "2014-11-17T16:51:15Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20447617",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20447617"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20447617"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20447617/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 516,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20482212",
    "pull_request_review_id": null,
    "id": 20482212,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNDgyMjEy",
    "diff_hunk": "@@ -0,0 +1,182 @@\n+#!/usr/bin/env python\n+# Copyright (c) 2014 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework import BitcoinTestFramework\n+from bitcoinrpc.authproxy import AuthServiceProxy, JSONRPCException\n+from util import *\n+\n+from binascii import a2b_hex, b2a_hex\n+from hashlib import sha256\n+from struct import pack\n+\n+\n+def check_array_result(object_array, to_match, expected):\n+    \"\"\"\n+    Pass in array of JSON objects, a dictionary with key/value pairs\n+    to match against, and another dictionary with expected key/value\n+    pairs.\n+    \"\"\"\n+    num_matched = 0\n+    for item in object_array:\n+        all_match = True\n+        for key,value in to_match.items():\n+            if item[key] != value:\n+                all_match = False\n+        if not all_match:\n+            continue\n+        for key,value in expected.items():\n+            if item[key] != value:\n+                raise AssertionError(\"%s : expected %s=%s\"%(str(item), str(key), str(value)))\n+            num_matched = num_matched+1\n+    if num_matched == 0:\n+        raise AssertionError(\"No objects matched %s\"%(str(to_match)))\n+\n+def b2x(b):\n+    return b2a_hex(b).decode('ascii')\n+\n+# NOTE: This does not work for signed numbers (set the high bit) or zero (use b'\\0')\n+def encodeUNum(n):\n+    s = bytearray(b'\\1')\n+    while n > 127:\n+        s[0] += 1\n+        s.append(n % 256)\n+        n //= 256\n+    s.append(n)\n+    return bytes(s)\n+\n+def varlenEncode(n):\n+    if n < 0xfd:\n+        return pack('<B', n)\n+    if n <= 0xffff:\n+        return b'\\xfd' + pack('<H', n)\n+    if n <= 0xffffffff:\n+        return b'\\xfe' + pack('<L', n)\n+    return b'\\xff' + pack('<Q', n)\n+\n+def dblsha(b):\n+    return sha256(sha256(b).digest()).digest()\n+\n+def genmrklroot(leaflist):\n+    cur = leaflist\n+    while len(cur) > 1:\n+        n = []\n+        if len(cur) & 1:\n+            cur.append(cur[-1])\n+        for i in range(0, len(cur), 2):\n+            n.append(dblsha(cur[i] + cur[i+1]))\n+        cur = n\n+    return cur[0]\n+\n+def template_to_bytes(tmpl, txlist):\n+    blkver = pack('<L', tmpl['version'])\n+    mrklroot = genmrklroot(list(dblsha(a) for a in txlist))\n+    timestamp = pack('<L', tmpl['curtime'])\n+    nonce = b'\\0\\0\\0\\0'\n+    blk = blkver + a2b_hex(tmpl['previousblockhash'])[::-1] + mrklroot + timestamp + a2b_hex(tmpl['bits'])[::-1] + nonce\n+    blk += varlenEncode(len(txlist))\n+    for tx in txlist:\n+        blk += tx\n+    return blk\n+\n+def template_to_hex(tmpl, txlist):\n+    return b2x(template_to_bytes(tmpl, txlist))\n+\n+def assert_template(node, tmpl, txlist, expect):\n+    rsp = node.getblocktemplate({'data':template_to_hex(tmpl, txlist),'mode':'proposal'})\n+    if rsp != expect:\n+        raise AssertionError('unexpected: %s' % (rsp,))\n+\n+class GetBlockTemplateProposalTest(BitcoinTestFramework):\n+    '''\n+    Test block proposals with getblocktemplate.\n+    '''\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+        tmpl = node.getblocktemplate()\n+        if 'coinbasetxn' not in tmpl:\n+            rawcoinbase = encodeUNum(tmpl['height'])\n+            rawcoinbase += b'\\x01-'\n+            hexcoinbase = b2x(rawcoinbase)\n+            hexoutval = b2x(pack('<Q', tmpl['coinbasevalue']))\n+            tmpl['coinbasetxn'] = {'data': '01000000' + '01' + '0000000000000000000000000000000000000000000000000000000000000000ffffffff' + ('%02x' % (len(rawcoinbase),)) + hexcoinbase + 'fffffffe' + '01' + hexoutval + '00' + '00000000'}\n+        txlist = list(bytearray(a2b_hex(a['data'])) for a in (tmpl['coinbasetxn'],) + tuple(tmpl['transactions']))\n+\n+        # Test 0: Capability advertised\n+        assert('proposal' in tmpl['capabilities'])\n+\n+        # NOTE: This test currently FAILS",
    "path": "qa/rpc-tests/getblocktemplate_proposals.py",
    "position": null,
    "original_position": 110,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "98974b5e9562c89fa0478cb4b8b6e9325ed9d424",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Does this mean its a blocker, or just future feature?\n",
    "created_at": "2014-11-18T02:36:31Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20482212",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20482212"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20482212"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20482212/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 110,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20482474",
    "pull_request_review_id": null,
    "id": 20482474,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNDgyNDc0",
    "diff_hunk": "@@ -0,0 +1,182 @@\n+#!/usr/bin/env python\n+# Copyright (c) 2014 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework import BitcoinTestFramework\n+from bitcoinrpc.authproxy import AuthServiceProxy, JSONRPCException\n+from util import *\n+\n+from binascii import a2b_hex, b2a_hex\n+from hashlib import sha256\n+from struct import pack\n+\n+\n+def check_array_result(object_array, to_match, expected):\n+    \"\"\"\n+    Pass in array of JSON objects, a dictionary with key/value pairs\n+    to match against, and another dictionary with expected key/value\n+    pairs.\n+    \"\"\"\n+    num_matched = 0\n+    for item in object_array:\n+        all_match = True\n+        for key,value in to_match.items():\n+            if item[key] != value:\n+                all_match = False\n+        if not all_match:\n+            continue\n+        for key,value in expected.items():\n+            if item[key] != value:\n+                raise AssertionError(\"%s : expected %s=%s\"%(str(item), str(key), str(value)))\n+            num_matched = num_matched+1\n+    if num_matched == 0:\n+        raise AssertionError(\"No objects matched %s\"%(str(to_match)))\n+\n+def b2x(b):\n+    return b2a_hex(b).decode('ascii')\n+\n+# NOTE: This does not work for signed numbers (set the high bit) or zero (use b'\\0')\n+def encodeUNum(n):\n+    s = bytearray(b'\\1')\n+    while n > 127:\n+        s[0] += 1\n+        s.append(n % 256)\n+        n //= 256\n+    s.append(n)\n+    return bytes(s)\n+\n+def varlenEncode(n):\n+    if n < 0xfd:\n+        return pack('<B', n)\n+    if n <= 0xffff:\n+        return b'\\xfd' + pack('<H', n)\n+    if n <= 0xffffffff:\n+        return b'\\xfe' + pack('<L', n)\n+    return b'\\xff' + pack('<Q', n)\n+\n+def dblsha(b):\n+    return sha256(sha256(b).digest()).digest()\n+\n+def genmrklroot(leaflist):\n+    cur = leaflist\n+    while len(cur) > 1:\n+        n = []\n+        if len(cur) & 1:\n+            cur.append(cur[-1])\n+        for i in range(0, len(cur), 2):\n+            n.append(dblsha(cur[i] + cur[i+1]))\n+        cur = n\n+    return cur[0]\n+\n+def template_to_bytes(tmpl, txlist):\n+    blkver = pack('<L', tmpl['version'])\n+    mrklroot = genmrklroot(list(dblsha(a) for a in txlist))\n+    timestamp = pack('<L', tmpl['curtime'])\n+    nonce = b'\\0\\0\\0\\0'\n+    blk = blkver + a2b_hex(tmpl['previousblockhash'])[::-1] + mrklroot + timestamp + a2b_hex(tmpl['bits'])[::-1] + nonce\n+    blk += varlenEncode(len(txlist))\n+    for tx in txlist:\n+        blk += tx\n+    return blk\n+\n+def template_to_hex(tmpl, txlist):\n+    return b2x(template_to_bytes(tmpl, txlist))\n+\n+def assert_template(node, tmpl, txlist, expect):\n+    rsp = node.getblocktemplate({'data':template_to_hex(tmpl, txlist),'mode':'proposal'})\n+    if rsp != expect:\n+        raise AssertionError('unexpected: %s' % (rsp,))\n+\n+class GetBlockTemplateProposalTest(BitcoinTestFramework):\n+    '''\n+    Test block proposals with getblocktemplate.\n+    '''\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+        tmpl = node.getblocktemplate()\n+        if 'coinbasetxn' not in tmpl:\n+            rawcoinbase = encodeUNum(tmpl['height'])\n+            rawcoinbase += b'\\x01-'\n+            hexcoinbase = b2x(rawcoinbase)\n+            hexoutval = b2x(pack('<Q', tmpl['coinbasevalue']))\n+            tmpl['coinbasetxn'] = {'data': '01000000' + '01' + '0000000000000000000000000000000000000000000000000000000000000000ffffffff' + ('%02x' % (len(rawcoinbase),)) + hexcoinbase + 'fffffffe' + '01' + hexoutval + '00' + '00000000'}\n+        txlist = list(bytearray(a2b_hex(a['data'])) for a in (tmpl['coinbasetxn'],) + tuple(tmpl['transactions']))\n+\n+        # Test 0: Capability advertised\n+        assert('proposal' in tmpl['capabilities'])\n+\n+        # NOTE: This test currently FAILS",
    "path": "qa/rpc-tests/getblocktemplate_proposals.py",
    "position": null,
    "original_position": 110,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "98974b5e9562c89fa0478cb4b8b6e9325ed9d424",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It means regtest mode is failing to enforce height-in-coinbase rules. No reason to think it affects real-world use.\n",
    "created_at": "2014-11-18T02:43:29Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20482474",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20482474"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20482474"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20482474/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 110,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20495242",
    "pull_request_review_id": null,
    "id": 20495242,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNDk1MjQy",
    "diff_hunk": "@@ -2334,7 +2334,7 @@ bool CheckBlock(const CBlock& block, CValidationState& state, bool fCheckPOW, bo\n     return true;\n }\n \n-bool AcceptBlockHeader(const CBlockHeader& block, CValidationState& state, CBlockIndex** ppindex)\n+bool ContextualCheckBlockHeader(const CBlockHeader& block, CValidationState& state, CBlockIndex** ppindex)",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 14,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "98974b5e9562c89fa0478cb4b8b6e9325ed9d424",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Can you move the duplicate/prevfinding code to AcceptBlockHeader, and have this function just take a CBlockIndex\\* pointer (which cannot be NULL)? I would prefer it if this function didn't need cs_main.\n",
    "created_at": "2014-11-18T09:53:30Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20495242",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20495242"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20495242"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20495242/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2337,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20528180",
    "pull_request_review_id": null,
    "id": 20528180,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNTI4MTgw",
    "diff_hunk": "@@ -580,14 +621,13 @@ Value submitblock(const Array& params, bool fHelp)\n             + HelpExampleRpc(\"submitblock\", \"\\\"mydata\\\"\")\n         );\n \n-    vector<unsigned char> blockData(ParseHex(params[0].get_str()));\n-    CDataStream ssBlock(blockData, SER_NETWORK, PROTOCOL_VERSION);\n     CBlock pblock;\n-    try {\n-        ssBlock >> pblock;\n-    }\n-    catch (const std::exception &) {\n+    if (!DecodeHexBlk(pblock, params[0].get_str()))\n         throw JSONRPCError(RPC_DESERIALIZATION_ERROR, \"Block decode failed\");\n+\n+    uint256 hash = block.GetHash();\n+    if (mapBlockIndex.find(hash) != mapBlockIndex.end()) {",
    "path": "src/rpcmining.cpp",
    "position": null,
    "original_position": 84,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "e25e31d32de3971e516bff9fccbf173165bc51eb",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "mapBlockIndex.count(hash) != 0 ?\n",
    "created_at": "2014-11-18T18:55:19Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20528180",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20528180"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20528180"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20528180/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 629,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20528333",
    "pull_request_review_id": null,
    "id": 20528333,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNTI4MzMz",
    "diff_hunk": "@@ -580,14 +621,13 @@ Value submitblock(const Array& params, bool fHelp)\n             + HelpExampleRpc(\"submitblock\", \"\\\"mydata\\\"\")\n         );\n \n-    vector<unsigned char> blockData(ParseHex(params[0].get_str()));\n-    CDataStream ssBlock(blockData, SER_NETWORK, PROTOCOL_VERSION);\n     CBlock pblock;\n-    try {\n-        ssBlock >> pblock;\n-    }\n-    catch (const std::exception &) {\n+    if (!DecodeHexBlk(pblock, params[0].get_str()))\n         throw JSONRPCError(RPC_DESERIALIZATION_ERROR, \"Block decode failed\");\n+\n+    uint256 hash = block.GetHash();\n+    if (mapBlockIndex.find(hash) != mapBlockIndex.end()) {",
    "path": "src/rpcmining.cpp",
    "position": null,
    "original_position": 84,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "e25e31d32de3971e516bff9fccbf173165bc51eb",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Actually, just having the header does not mean we already have the block.\n",
    "created_at": "2014-11-18T18:57:22Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20528333",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20528333"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20528333"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20528333/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 629,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20616068",
    "pull_request_review_id": null,
    "id": 20616068,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNjE2MDY4",
    "diff_hunk": "@@ -566,41 +618,39 @@ Value submitblock(const Array& params, bool fHelp)\n             + HelpExampleRpc(\"submitblock\", \"\\\"mydata\\\"\")\n         );\n \n-    vector<unsigned char> blockData(ParseHex(params[0].get_str()));\n-    CDataStream ssBlock(blockData, SER_NETWORK, PROTOCOL_VERSION);\n-    CBlock pblock;\n-    try {\n-        ssBlock >> pblock;\n-    }\n-    catch (const std::exception &) {\n+    CBlock block;\n+    if (!DecodeHexBlk(block, params[0].get_str()))\n         throw JSONRPCError(RPC_DESERIALIZATION_ERROR, \"Block decode failed\");\n+\n+    uint256 hash = block.GetHash();\n+    BlockMap::iterator mi = mapBlockIndex.find(hash);\n+    if (mi != mapBlockIndex.end()) {\n+        CBlockIndex *pindex = mi->second;\n+        if (pindex->nStatus & BLOCK_VALID_MASK == BLOCK_VALID_SCRIPTS)",
    "path": "src/rpcmining.cpp",
    "position": null,
    "original_position": 99,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "720efbe98667160d5b66c6bbcb0afa7c3c3dc0c9",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: pindex->IsValid(BLOCK_VALID_SCRIPTS)\n",
    "created_at": "2014-11-19T23:16:28Z",
    "updated_at": "2014-11-20T15:33:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20616068",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20616068"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20616068"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20616068/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 629,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20656485",
    "pull_request_review_id": null,
    "id": 20656485,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNjU2NDg1",
    "diff_hunk": "@@ -16,6 +17,7 @@ class UniValue;\n // core_read.cpp\n extern CScript ParseScript(std::string s);\n extern bool DecodeHexTx(CTransaction& tx, const std::string& strHexTx);\n+extern bool DecodeHexBlk(CBlock&, const std::string& strHexBlk);",
    "path": "src/core_io.h",
    "position": 12,
    "original_position": 12,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Just for completeness, every other function here has a variable (name) specified, while CBlock has not. In the definition you use `block`.\n",
    "created_at": "2014-11-20T16:12:49Z",
    "updated_at": "2014-11-20T16:13:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20656485",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20656485"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20656485"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20656485/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 20,
    "original_line": 20,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20656649",
    "pull_request_review_id": null,
    "id": 20656649,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNjU2NjQ5",
    "diff_hunk": "@@ -16,6 +17,7 @@ class UniValue;\n // core_read.cpp\n extern CScript ParseScript(std::string s);\n extern bool DecodeHexTx(CTransaction& tx, const std::string& strHexTx);\n+extern bool DecodeHexBlk(CBlock&, const std::string& strHexBlk);",
    "path": "src/core_io.h",
    "position": 12,
    "original_position": 12,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Better not to add redundant content.\n",
    "created_at": "2014-11-20T16:15:01Z",
    "updated_at": "2014-11-20T16:15:43Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20656649",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20656649"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20656649"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20656649/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 20,
    "original_line": 20,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20656783",
    "pull_request_review_id": null,
    "id": 20656783,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNjU2Nzgz",
    "diff_hunk": "@@ -16,6 +17,7 @@ class UniValue;\n // core_read.cpp\n extern CScript ParseScript(std::string s);\n extern bool DecodeHexTx(CTransaction& tx, const std::string& strHexTx);\n+extern bool DecodeHexBlk(CBlock&, const std::string& strHexBlk);",
    "path": "src/core_io.h",
    "position": 12,
    "original_position": 12,
    "commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "original_commit_id": "b867e409e5dd34b84eb9d6d0d8f257dbb19b986d",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "You are such a contra guy sometimes ^^.\n",
    "created_at": "2014-11-20T16:16:48Z",
    "updated_at": "2014-11-20T16:16:48Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20656783",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20656783"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/1816#discussion_r20656783"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/1816"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20656783/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 20,
    "original_line": 20,
    "side": "RIGHT"
  }
]