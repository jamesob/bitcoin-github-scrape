[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/339382714",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11558#issuecomment-339382714",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11558",
    "id": 339382714,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzOTM4MjcxNA==",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-25T16:08:02Z",
    "updated_at": "2017-10-25T16:08:02Z",
    "author_association": "MEMBER",
    "body": "The rest of the changes look good to me.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/339382714/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/339472697",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11558#issuecomment-339472697",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11558",
    "id": 339472697,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzOTQ3MjY5Nw==",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-25T21:10:43Z",
    "updated_at": "2017-10-25T21:10:43Z",
    "author_association": "MEMBER",
    "body": "See #11562, which should eliminate the need for the gettimeofday() patch.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/339472697/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/341069333",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11558#issuecomment-341069333",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11558",
    "id": 341069333,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MTA2OTMzMw==",
    "user": {
      "login": "sipsorcery",
      "id": 197660,
      "node_id": "MDQ6VXNlcjE5NzY2MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/197660?u=56479352d085f0d392512768d25957b0b3b770b4&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipsorcery",
      "html_url": "https://github.com/sipsorcery",
      "followers_url": "https://api.github.com/users/sipsorcery/followers",
      "following_url": "https://api.github.com/users/sipsorcery/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipsorcery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipsorcery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipsorcery/subscriptions",
      "organizations_url": "https://api.github.com/users/sipsorcery/orgs",
      "repos_url": "https://api.github.com/users/sipsorcery/repos",
      "events_url": "https://api.github.com/users/sipsorcery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipsorcery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-01T10:36:19Z",
    "updated_at": "2017-11-01T10:36:19Z",
    "author_association": "MEMBER",
    "body": "Working around the use of the non-portable ssize_t definition is proving to be a bit tricky. Adding a typedef to random.h allows the code to build but as some reviewers pointed out it was a clunky fix.\r\n\r\nSwitching from ssize_t to int in random.h and random.cpp is not sufficient. There are also multiple uses of ssize_t in netbase.cpp and test/util_tests.cpp. A side effect of the definition in random.h was that those two classes picked up the definition.\r\n\r\nAdding a typedef to compat.h and also adding an include for compat.h to random.h gets the definition to the  missing spots BUT it introduces a re-definition compilation error because the db.h header from BerkeleyDB already has the same typedef.\r\n\r\nAfter some gymnastics I have managed to come up with a set of directives that allow successful compilation, see below, however if portable code is a goal for the future it may be worth steering away from non-C++ standard types, such as ssize_t, outside of any platform specific classes?\r\n\r\n```c++\r\n#ifdef _MSC_VER\r\n#if !defined(ssize_t)\r\n#ifdef _WIN64\r\ntypedef int64_t ssize_t;\r\n#else\r\ntypedef int32_t ssize_t;\r\n#endif\r\n#endif\r\n#endif",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/341069333/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/343221909",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11558#issuecomment-343221909",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11558",
    "id": 343221909,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzIyMTkwOQ==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-09T17:04:21Z",
    "updated_at": "2017-11-09T17:04:21Z",
    "author_association": "MEMBER",
    "body": ">  however if portable code is a goal for the future it may be worth steering away from non-C++ standard types, such as ssize_t, outside of any platform specific classes?\r\n\r\nAgree, ssize_t should be used in POSIX code, as some of the POSIX functions such as read() return it. But outside it it's better not to.\r\n\r\nutACK, changes look sane (or at least harmless) to me now. https://github.com/bitcoin/bitcoin/pull/11558/commits/af824151d65e66e1d16e43ef00bd613e644c7fcb",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/343221909/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/343224794",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11558#issuecomment-343224794",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11558",
    "id": 343224794,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzIyNDc5NA==",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-09T17:13:44Z",
    "updated_at": "2017-11-09T17:18:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "~~~Why not just make MAX_TRIES an int instead of an ssize_t like Cory suggested? Seems like misuse of ssize_t anyway.~~~ \r\n\r\nEDIT: Never mind. I see there were other uses of ssize_t outside of random.h/cpp. Still would be good to stop using ssize_t in inappropriate places.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/343224794/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/351417518",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11558#issuecomment-351417518",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11558",
    "id": 351417518,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTQxNzUxOA==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-13T15:04:55Z",
    "updated_at": "2017-12-13T15:04:55Z",
    "author_association": "MEMBER",
    "body": "Post merge Concept ACK fbf327b",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/351417518/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/146902345",
    "pull_request_review_id": 71914280,
    "id": 146902345,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NjkwMjM0NQ==",
    "diff_hunk": "@@ -8,7 +8,40 @@\n #include <assert.h>\n #include <iostream>\n #include <iomanip>\n+\n+#ifndef _MSC_VER\n #include <sys/time.h>\n+#else\n+#define WIN32_LEAN_AND_MEAN\n+#include <Windows.h>\n+\n+typedef struct timeval {\n+    long tv_sec;\n+    long tv_usec;\n+} timeval;\n+\n+// Substitute function for use with Microsoft's MSVC compiler.\n+int gettimeofday(struct timeval * tp, struct timezone * tzp)\n+{\n+    // Note: some broken versions only have 8 trailing zero's, the correct epoch has 9 trailing zero's\n+    // This magic number is the number of 100 nanosecond intervals since January 1, 1601 (UTC)\n+    // until 00:00:00 January 1, 1970\n+    static const uint64_t EPOCH = ((uint64_t)116444736000000000ULL);\n+\n+    SYSTEMTIME  system_time;\n+    FILETIME    file_time;\n+    uint64_t    time;\n+\n+    GetSystemTime(&system_time);\n+    SystemTimeToFileTime(&system_time, &file_time);\n+    time = ((uint64_t)file_time.dwLowDateTime);\n+    time += ((uint64_t)file_time.dwHighDateTime) << 32;\n+\n+    tp->tv_sec = (long)((time - EPOCH) / 10000000L);\n+    tp->tv_usec = (long)(system_time.wMilliseconds * 1000);\n+    return 0;\n+}\n+#endif",
    "path": "src/bench/bench.cpp",
    "position": null,
    "original_position": 37,
    "commit_id": "fbf327b13868861c2877c5754caf5a9816f2603c",
    "original_commit_id": "aebadac0d6ea6ebb4556d1b79e8b9b762b416237",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Let's just drop gettimedouble() and switch this to std::chrono::steady_clock. That should eliminate the non-portable code.",
    "created_at": "2017-10-25T15:50:44Z",
    "updated_at": "2017-11-09T20:07:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11558#discussion_r146902345",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11558",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/146902345"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11558#discussion_r146902345"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11558"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/146902345/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 44,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/146902758",
    "pull_request_review_id": 71914764,
    "id": 146902758,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NjkwMjc1OA==",
    "diff_hunk": "@@ -12,6 +12,14 @@\n \n #include <stdint.h>\n \n+#ifdef _MSC_VER\n+#ifdef _WIN64\n+typedef int64_t ssize_t;\n+#else\n+typedef int32_t ssize_t;\n+#endif\n+#endif\n+",
    "path": "src/random.h",
    "position": null,
    "original_position": 11,
    "commit_id": "fbf327b13868861c2877c5754caf5a9816f2603c",
    "original_commit_id": "aebadac0d6ea6ebb4556d1b79e8b9b762b416237",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think just making MAX_TRIES an int should remove the need for this?",
    "created_at": "2017-10-25T15:51:53Z",
    "updated_at": "2017-11-09T20:07:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11558#discussion_r146902758",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11558",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/146902758"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11558#discussion_r146902758"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11558"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/146902758/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 22,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/146906331",
    "pull_request_review_id": 71919162,
    "id": 146906331,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NjkwNjMzMQ==",
    "diff_hunk": "@@ -32,7 +36,7 @@ void memory_cleanse(void *ptr, size_t len)\n        might try to eliminate \"superfluous\" memsets. If there's an easy way to\n        detect memset_s, it would be better to use that. */\n #if defined(_MSC_VER)\n-    __asm;",
    "path": "src/support/cleanse.cpp",
    "position": 15,
    "original_position": 15,
    "commit_id": "fbf327b13868861c2877c5754caf5a9816f2603c",
    "original_commit_id": "aebadac0d6ea6ebb4556d1b79e8b9b762b416237",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "See the discussion here #11196 for context here. Now would be a good time to reassess.",
    "created_at": "2017-10-25T16:03:56Z",
    "updated_at": "2017-11-09T20:07:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11558#discussion_r146906331",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11558",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/146906331"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11558#discussion_r146906331"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11558"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/146906331/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 35,
    "original_line": 35,
    "side": "LEFT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/146947165",
    "pull_request_review_id": 71966402,
    "id": 146947165,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0Njk0NzE2NQ==",
    "diff_hunk": "@@ -12,6 +12,14 @@\n \n #include <stdint.h>\n \n+#ifdef _MSC_VER\n+#ifdef _WIN64\n+typedef int64_t ssize_t;\n+#else\n+typedef int32_t ssize_t;\n+#endif\n+#endif\n+",
    "path": "src/random.h",
    "position": null,
    "original_position": 11,
    "commit_id": "fbf327b13868861c2877c5754caf5a9816f2603c",
    "original_commit_id": "aebadac0d6ea6ebb4556d1b79e8b9b762b416237",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "> I think just making MAX_TRIES an int should remove the need for this?\r\n\r\nYes this would be better than adding a top-level definition that could conflict with other libraries. (Also, if we did need a top-level definition, compat.h would probably be a better place to put it.)",
    "created_at": "2017-10-25T18:31:52Z",
    "updated_at": "2017-11-09T20:07:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11558#discussion_r146947165",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11558",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/146947165"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11558#discussion_r146947165"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11558"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/146947165/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 22,
    "side": "RIGHT",
    "in_reply_to_id": 146902758
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/146947926",
    "pull_request_review_id": 71966402,
    "id": 146947926,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0Njk0NzkyNg==",
    "diff_hunk": "@@ -7,6 +7,10 @@\n \n #include <cstring>\n \n+#if defined(_MSC_VER)\n+#include <Windows.h>\t// For SecureZeroMemory.",
    "path": "src/support/cleanse.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "fbf327b13868861c2877c5754caf5a9816f2603c",
    "original_commit_id": "aebadac0d6ea6ebb4556d1b79e8b9b762b416237",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Need to get replace the tab on this line with spaces to fix travis error.",
    "created_at": "2017-10-25T18:34:19Z",
    "updated_at": "2017-11-09T20:07:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11558#discussion_r146947926",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11558",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/146947926"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11558#discussion_r146947926"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11558"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/146947926/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 11,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/146989413",
    "pull_request_review_id": 72015294,
    "id": 146989413,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0Njk4OTQxMw==",
    "diff_hunk": "@@ -32,7 +36,7 @@ void memory_cleanse(void *ptr, size_t len)\n        might try to eliminate \"superfluous\" memsets. If there's an easy way to\n        detect memset_s, it would be better to use that. */\n #if defined(_MSC_VER)\n-    __asm;",
    "path": "src/support/cleanse.cpp",
    "position": 15,
    "original_position": 15,
    "commit_id": "fbf327b13868861c2877c5754caf5a9816f2603c",
    "original_commit_id": "aebadac0d6ea6ebb4556d1b79e8b9b762b416237",
    "user": {
      "login": "sipsorcery",
      "id": 197660,
      "node_id": "MDQ6VXNlcjE5NzY2MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/197660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipsorcery",
      "html_url": "https://github.com/sipsorcery",
      "followers_url": "https://api.github.com/users/sipsorcery/followers",
      "following_url": "https://api.github.com/users/sipsorcery/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipsorcery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipsorcery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipsorcery/subscriptions",
      "organizations_url": "https://api.github.com/users/sipsorcery/orgs",
      "repos_url": "https://api.github.com/users/sipsorcery/repos",
      "events_url": "https://api.github.com/users/sipsorcery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipsorcery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Note that __asm is not supported with msvc when targeting x64, that's the only reason for this change.",
    "created_at": "2017-10-25T21:16:43Z",
    "updated_at": "2017-11-09T20:07:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11558#discussion_r146989413",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11558",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/146989413"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11558#discussion_r146989413"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11558"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/146989413/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 35,
    "original_line": 35,
    "side": "LEFT",
    "in_reply_to_id": 146906331
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147001807",
    "pull_request_review_id": 72029608,
    "id": 147001807,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NzAwMTgwNw==",
    "diff_hunk": "@@ -12,6 +12,14 @@\n \n #include <stdint.h>\n \n+#ifdef _MSC_VER\n+#ifdef _WIN64\n+typedef int64_t ssize_t;\n+#else\n+typedef int32_t ssize_t;\n+#endif\n+#endif\n+",
    "path": "src/random.h",
    "position": null,
    "original_position": 11,
    "commit_id": "fbf327b13868861c2877c5754caf5a9816f2603c",
    "original_commit_id": "aebadac0d6ea6ebb4556d1b79e8b9b762b416237",
    "user": {
      "login": "sipsorcery",
      "id": 197660,
      "node_id": "MDQ6VXNlcjE5NzY2MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/197660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipsorcery",
      "html_url": "https://github.com/sipsorcery",
      "followers_url": "https://api.github.com/users/sipsorcery/followers",
      "following_url": "https://api.github.com/users/sipsorcery/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipsorcery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipsorcery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipsorcery/subscriptions",
      "organizations_url": "https://api.github.com/users/sipsorcery/orgs",
      "repos_url": "https://api.github.com/users/sipsorcery/repos",
      "events_url": "https://api.github.com/users/sipsorcery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipsorcery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "@ryanofsky I agree it's very clunky to add yet another ssize_t typedef. I did consider adding to compat.h, see the main PR comment. Happy to go with whatever the consensus is.",
    "created_at": "2017-10-25T22:14:35Z",
    "updated_at": "2017-11-09T20:07:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11558#discussion_r147001807",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11558",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147001807"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11558#discussion_r147001807"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11558"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147001807/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 22,
    "side": "RIGHT",
    "in_reply_to_id": 146902758
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148112894",
    "pull_request_review_id": 73307216,
    "id": 148112894,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0ODExMjg5NA==",
    "diff_hunk": "@@ -12,6 +12,14 @@\n \n #include <stdint.h>\n \n+#ifdef _MSC_VER\n+#ifdef _WIN64\n+typedef int64_t ssize_t;\n+#else\n+typedef int32_t ssize_t;\n+#endif\n+#endif\n+",
    "path": "src/random.h",
    "position": null,
    "original_position": 11,
    "commit_id": "fbf327b13868861c2877c5754caf5a9816f2603c",
    "original_commit_id": "aebadac0d6ea6ebb4556d1b79e8b9b762b416237",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "> Happy to go with whatever the consensus is.\r\n\r\nI think you should just make MAX_TRIES an int like Cory suggested.",
    "created_at": "2017-10-31T20:08:12Z",
    "updated_at": "2017-11-09T20:07:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11558#discussion_r148112894",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11558",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148112894"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11558#discussion_r148112894"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11558"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148112894/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 22,
    "side": "RIGHT",
    "in_reply_to_id": 146902758
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/150053669",
    "pull_request_review_id": 75547193,
    "id": 150053669,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MDA1MzY2OQ==",
    "diff_hunk": "@@ -9,6 +9,7 @@\n #include \"crypto/chacha20.h\"\n #include \"crypto/common.h\"\n #include \"uint256.h\"\n+#include \"compat.h\"",
    "path": "src/random.h",
    "position": null,
    "original_position": 4,
    "commit_id": "fbf327b13868861c2877c5754caf5a9816f2603c",
    "original_commit_id": "af824151d65e66e1d16e43ef00bd613e644c7fcb",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Please just make NUM_OS_RANDOM_BYTES an int to keep the compat.h include out of this header. I realize it's still needed in the cpp, but let's try not to spread the use further than necessary.",
    "created_at": "2017-11-09T18:54:20Z",
    "updated_at": "2017-11-09T20:07:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11558#discussion_r150053669",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11558",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/150053669"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11558#discussion_r150053669"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11558"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/150053669/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 12,
    "side": "RIGHT"
  }
]