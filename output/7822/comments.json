[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/206441885",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7822#issuecomment-206441885",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7822",
    "id": 206441885,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNjQ0MTg4NQ==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-06T16:01:42Z",
    "updated_at": "2016-04-06T16:01:42Z",
    "author_association": "MEMBER",
    "body": "Thanks, Concept ACK.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/206441885/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/209968490",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7822#issuecomment-209968490",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7822",
    "id": 209968490,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwOTk2ODQ5MA==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-14T14:24:54Z",
    "updated_at": "2016-04-14T14:24:54Z",
    "author_association": "MEMBER",
    "body": "I'm a bit divided whether I should propose to add this into the wallet test, which already uses `listunspent`. This currently adds some startup/teardown overhead (test takes ~9 seconds) just to test one call.\nI don't feel strongly about that though.\nWhat do you think @MarcoFalke?\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/209968490/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/210360129",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7822#issuecomment-210360129",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7822",
    "id": 210360129,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMDM2MDEyOQ==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-15T08:34:30Z",
    "updated_at": "2016-04-15T08:34:30Z",
    "author_association": "MEMBER",
    "body": "> startup/teardown overhead\n\nI think such overhead is rather small. (Note that disablewallet.py runs in less than a second)\n\nThe overhead probably is caused by setting up the bidirectional connections and sync_all() calls.\n\nI have not yet looked closely at the test (I try to avoid large diffs right now in the /qa subfolder as each patch may or may not silently conflict with the python3 refactoring work.)\n\n@jpdffonseca Would you mind to take a look if this can be neatly squashed into the wallet.py test, as suggested by @laanwj ? \n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/210360129/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/210368015",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7822#issuecomment-210368015",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7822",
    "id": 210368015,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMDM2ODAxNQ==",
    "user": {
      "login": "joaopaulofonseca",
      "id": 16206754,
      "node_id": "MDQ6VXNlcjE2MjA2NzU0",
      "avatar_url": "https://avatars.githubusercontent.com/u/16206754?u=cfa6cbff0fb411d1a08e1f092a7b1c18baad0e33&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joaopaulofonseca",
      "html_url": "https://github.com/joaopaulofonseca",
      "followers_url": "https://api.github.com/users/joaopaulofonseca/followers",
      "following_url": "https://api.github.com/users/joaopaulofonseca/following{/other_user}",
      "gists_url": "https://api.github.com/users/joaopaulofonseca/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joaopaulofonseca/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joaopaulofonseca/subscriptions",
      "organizations_url": "https://api.github.com/users/joaopaulofonseca/orgs",
      "repos_url": "https://api.github.com/users/joaopaulofonseca/repos",
      "events_url": "https://api.github.com/users/joaopaulofonseca/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joaopaulofonseca/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-15T08:48:28Z",
    "updated_at": "2016-04-15T08:48:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "@MarcoFalke and @laanwj yes that makes sense. I will try to squash this verifications into `wallet.py`.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/210368015/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/211400679",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7822#issuecomment-211400679",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7822",
    "id": 211400679,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTQwMDY3OQ==",
    "user": {
      "login": "joaopaulofonseca",
      "id": 16206754,
      "node_id": "MDQ6VXNlcjE2MjA2NzU0",
      "avatar_url": "https://avatars.githubusercontent.com/u/16206754?u=cfa6cbff0fb411d1a08e1f092a7b1c18baad0e33&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joaopaulofonseca",
      "html_url": "https://github.com/joaopaulofonseca",
      "followers_url": "https://api.github.com/users/joaopaulofonseca/followers",
      "following_url": "https://api.github.com/users/joaopaulofonseca/following{/other_user}",
      "gists_url": "https://api.github.com/users/joaopaulofonseca/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joaopaulofonseca/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joaopaulofonseca/subscriptions",
      "organizations_url": "https://api.github.com/users/joaopaulofonseca/orgs",
      "repos_url": "https://api.github.com/users/joaopaulofonseca/repos",
      "events_url": "https://api.github.com/users/joaopaulofonseca/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joaopaulofonseca/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-18T14:18:43Z",
    "updated_at": "2016-04-18T14:19:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "@MarcoFalke, after checking that `wallet.py` already covers some of the tests for listuspent(), I discarded the separate test file and merged the tests regarding the import of bitcoin addresses and private keys into `wallet.py`. The test execution time should remain the same.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/211400679/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/211531744",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7822#issuecomment-211531744",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7822",
    "id": 211531744,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTUzMTc0NA==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-18T19:03:28Z",
    "updated_at": "2016-04-18T19:03:28Z",
    "author_association": "MEMBER",
    "body": "Thanks. Looks better now.\n\nutACK 3b2eedc\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/211531744/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/211870340",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7822#issuecomment-211870340",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7822",
    "id": 211870340,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTg3MDM0MA==",
    "user": {
      "login": "joaopaulofonseca",
      "id": 16206754,
      "node_id": "MDQ6VXNlcjE2MjA2NzU0",
      "avatar_url": "https://avatars.githubusercontent.com/u/16206754?u=cfa6cbff0fb411d1a08e1f092a7b1c18baad0e33&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joaopaulofonseca",
      "html_url": "https://github.com/joaopaulofonseca",
      "followers_url": "https://api.github.com/users/joaopaulofonseca/followers",
      "following_url": "https://api.github.com/users/joaopaulofonseca/following{/other_user}",
      "gists_url": "https://api.github.com/users/joaopaulofonseca/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joaopaulofonseca/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joaopaulofonseca/subscriptions",
      "organizations_url": "https://api.github.com/users/joaopaulofonseca/orgs",
      "repos_url": "https://api.github.com/users/joaopaulofonseca/repos",
      "events_url": "https://api.github.com/users/joaopaulofonseca/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joaopaulofonseca/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-19T11:37:02Z",
    "updated_at": "2016-04-19T11:37:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "Moved `assert_array_result()` to `test_framework/util.py`.\n\nI noticed that the previous method on `receivedby.py` had a bug when using the flag `should_not_find`. \nIf the flag is set to True, the validation wouldn't work correctly when the values passed as `to_match` are indeed found inside `object_array`, and no assertion is raised.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/211870340/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/211913746",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7822#issuecomment-211913746",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7822",
    "id": 211913746,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTkxMzc0Ng==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-19T12:57:55Z",
    "updated_at": "2016-04-19T12:57:55Z",
    "author_association": "MEMBER",
    "body": "utACK 5d217de\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/211913746/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58731933",
    "pull_request_review_id": null,
    "id": 58731933,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NzMxOTMz",
    "diff_hunk": "@@ -0,0 +1,117 @@\n+#!/usr/bin/env python2\n+# Copyright (c) 2014-2016 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class ListUnspentTest(BitcoinTestFramework):\n+\n+    def setup_chain(self):\n+        print(\"Initializing test directory \"+self.options.tmpdir)\n+        initialize_chain_clean(self.options.tmpdir, 3)\n+\n+    def setup_network(self, split=False):\n+        self.nodes = start_nodes(3, self.options.tmpdir)\n+\n+        connect_nodes_bi(self.nodes, 0, 1)\n+        connect_nodes_bi(self.nodes, 1, 2)\n+        connect_nodes_bi(self.nodes, 0, 2)\n+\n+        self.is_network_split=False\n+        self.sync_all()\n+\n+    def run_test(self):\n+\n+        ##########################################\n+        #  Test case 1                           #\n+        #  Mine some coins and spend one output  #\n+        ##########################################\n+\n+        # check there's no unspent output availabe on any nodes\n+        assert_equal(len(self.nodes[0].listunspent()), 0)\n+        assert_equal(len(self.nodes[1].listunspent()), 0)\n+        assert_equal(len(self.nodes[2].listunspent()), 0)\n+\n+        # mine enough blocks to generate one UTXO on first node\n+        self.nodes[0].generate(101)\n+        self.sync_all()\n+\n+        # list current unspents, only first node should return one unspent\n+        assert_equal(len(self.nodes[0].listunspent()), 1)\n+        assert_equal(len(self.nodes[1].listunspent()), 0)\n+        assert_equal(len(self.nodes[2].listunspent()), 0)\n+\n+        # make sure this output is spendable\n+        assert(self.nodes[0].listunspent()[0][\"spendable\"])\n+\n+        # sends some coins from first node to third node, to spend some available unspent outputs\n+        send_to_address = self.nodes[2].getnewaddress()\n+        txid = self.nodes[0].sendtoaddress(send_to_address, 10)\n+\n+        # since the only available UTXO was spent, there sould be none after the transaction\n+        assert_equal(len(self.nodes[0].listunspent()), 0)\n+\n+        # mine one more block to generate some more UTXOs\n+        self.nodes[0].generate(1)\n+        self.sync_all()\n+\n+        # list unspents after the transaction\n+        list_unspent_after = self.nodes[0].listunspent()\n+\n+        # retrieve that transaction and check if the transaction inputs are not among the unspents\n+        rawtx = self.nodes[0].getrawtransaction(txid, 1)\n+        for txin in rawtx[\"vin\"]:\n+            for utxo in list_unspent_after:\n+                if (txin[\"txid\"] == utxo[\"txid\"] and txin[\"vout\"] == utxo[\"vout\"]):\n+                    raise AssertionError(\"Fount used output on UTXOs list\")",
    "path": "qa/rpc-tests/listunspent.py",
    "position": null,
    "original_position": 68,
    "commit_id": "5d217decc1145823a3c126658c82c60cf7dbfec8",
    "original_commit_id": "0d8581d4a3b138824042c86bfbb23d29982806ce",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: typo\n",
    "created_at": "2016-04-06T15:57:26Z",
    "updated_at": "2016-04-19T11:29:57Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7822#discussion_r58731933",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7822",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58731933"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7822#discussion_r58731933"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7822"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58731933/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 68,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58732261",
    "pull_request_review_id": null,
    "id": 58732261,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NzMyMjYx",
    "diff_hunk": "@@ -0,0 +1,117 @@\n+#!/usr/bin/env python2\n+# Copyright (c) 2014-2016 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class ListUnspentTest(BitcoinTestFramework):\n+\n+    def setup_chain(self):\n+        print(\"Initializing test directory \"+self.options.tmpdir)\n+        initialize_chain_clean(self.options.tmpdir, 3)\n+\n+    def setup_network(self, split=False):\n+        self.nodes = start_nodes(3, self.options.tmpdir)\n+\n+        connect_nodes_bi(self.nodes, 0, 1)\n+        connect_nodes_bi(self.nodes, 1, 2)\n+        connect_nodes_bi(self.nodes, 0, 2)\n+\n+        self.is_network_split=False\n+        self.sync_all()\n+\n+    def run_test(self):\n+\n+        ##########################################\n+        #  Test case 1                           #\n+        #  Mine some coins and spend one output  #\n+        ##########################################\n+\n+        # check there's no unspent output availabe on any nodes\n+        assert_equal(len(self.nodes[0].listunspent()), 0)\n+        assert_equal(len(self.nodes[1].listunspent()), 0)\n+        assert_equal(len(self.nodes[2].listunspent()), 0)\n+\n+        # mine enough blocks to generate one UTXO on first node\n+        self.nodes[0].generate(101)\n+        self.sync_all()\n+\n+        # list current unspents, only first node should return one unspent\n+        assert_equal(len(self.nodes[0].listunspent()), 1)\n+        assert_equal(len(self.nodes[1].listunspent()), 0)\n+        assert_equal(len(self.nodes[2].listunspent()), 0)\n+\n+        # make sure this output is spendable\n+        assert(self.nodes[0].listunspent()[0][\"spendable\"])\n+\n+        # sends some coins from first node to third node, to spend some available unspent outputs\n+        send_to_address = self.nodes[2].getnewaddress()\n+        txid = self.nodes[0].sendtoaddress(send_to_address, 10)\n+\n+        # since the only available UTXO was spent, there sould be none after the transaction\n+        assert_equal(len(self.nodes[0].listunspent()), 0)\n+\n+        # mine one more block to generate some more UTXOs\n+        self.nodes[0].generate(1)\n+        self.sync_all()\n+\n+        # list unspents after the transaction\n+        list_unspent_after = self.nodes[0].listunspent()\n+\n+        # retrieve that transaction and check if the transaction inputs are not among the unspents\n+        rawtx = self.nodes[0].getrawtransaction(txid, 1)\n+        for txin in rawtx[\"vin\"]:\n+            for utxo in list_unspent_after:\n+                if (txin[\"txid\"] == utxo[\"txid\"] and txin[\"vout\"] == utxo[\"vout\"]):\n+                    raise AssertionError(\"Fount used output on UTXOs list\")\n+\n+\n+        ###########################################################################\n+        #  Test case 2                                                            #\n+        #  Import address (watch-only) and retrieve new unspents (not spendable)  #\n+        ###########################################################################\n+\n+        # second node shouldn't have any unpent at the moment\n+        assert_equal(len(self.nodes[1].listunspent()), 0)\n+\n+        # import address from another node\n+        self.nodes[1].importaddress(send_to_address)\n+\n+        # making sure this address is watch-only\n+        assert(self.nodes[1].validateaddress(send_to_address)[\"iswatchonly\"])\n+\n+        # there should be only one unspendable unspent, from the imported address\n+        assert_equal(len(self.nodes[1].listunspent()), 1)\n+        assert(not self.nodes[1].listunspent()[0][\"spendable\"])\n+\n+        try:\n+            self.nodes[1].sendtoaddress(self.nodes[0].getnewaddress(), 1)\n+        except JSONRPCException:\n+            print(\"Impossible to send coins. Available output is unspendable.\")",
    "path": "qa/rpc-tests/listunspent.py",
    "position": null,
    "original_position": 92,
    "commit_id": "5d217decc1145823a3c126658c82c60cf7dbfec8",
    "original_commit_id": "0d8581d4a3b138824042c86bfbb23d29982806ce",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "You may want to try `assert_raises` instead.\n",
    "created_at": "2016-04-06T15:59:14Z",
    "updated_at": "2016-04-19T11:29:57Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7822#discussion_r58732261",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7822",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58732261"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7822#discussion_r58732261"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7822"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58732261/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 92,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58732375",
    "pull_request_review_id": null,
    "id": 58732375,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NzMyMzc1",
    "diff_hunk": "@@ -0,0 +1,117 @@\n+#!/usr/bin/env python2\n+# Copyright (c) 2014-2016 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class ListUnspentTest(BitcoinTestFramework):\n+\n+    def setup_chain(self):\n+        print(\"Initializing test directory \"+self.options.tmpdir)\n+        initialize_chain_clean(self.options.tmpdir, 3)\n+\n+    def setup_network(self, split=False):\n+        self.nodes = start_nodes(3, self.options.tmpdir)\n+\n+        connect_nodes_bi(self.nodes, 0, 1)\n+        connect_nodes_bi(self.nodes, 1, 2)\n+        connect_nodes_bi(self.nodes, 0, 2)\n+\n+        self.is_network_split=False\n+        self.sync_all()\n+\n+    def run_test(self):\n+\n+        ##########################################\n+        #  Test case 1                           #\n+        #  Mine some coins and spend one output  #\n+        ##########################################\n+\n+        # check there's no unspent output availabe on any nodes\n+        assert_equal(len(self.nodes[0].listunspent()), 0)\n+        assert_equal(len(self.nodes[1].listunspent()), 0)\n+        assert_equal(len(self.nodes[2].listunspent()), 0)\n+\n+        # mine enough blocks to generate one UTXO on first node\n+        self.nodes[0].generate(101)\n+        self.sync_all()\n+\n+        # list current unspents, only first node should return one unspent\n+        assert_equal(len(self.nodes[0].listunspent()), 1)\n+        assert_equal(len(self.nodes[1].listunspent()), 0)\n+        assert_equal(len(self.nodes[2].listunspent()), 0)\n+\n+        # make sure this output is spendable\n+        assert(self.nodes[0].listunspent()[0][\"spendable\"])\n+\n+        # sends some coins from first node to third node, to spend some available unspent outputs\n+        send_to_address = self.nodes[2].getnewaddress()\n+        txid = self.nodes[0].sendtoaddress(send_to_address, 10)\n+\n+        # since the only available UTXO was spent, there sould be none after the transaction\n+        assert_equal(len(self.nodes[0].listunspent()), 0)\n+\n+        # mine one more block to generate some more UTXOs\n+        self.nodes[0].generate(1)\n+        self.sync_all()\n+\n+        # list unspents after the transaction\n+        list_unspent_after = self.nodes[0].listunspent()\n+\n+        # retrieve that transaction and check if the transaction inputs are not among the unspents\n+        rawtx = self.nodes[0].getrawtransaction(txid, 1)\n+        for txin in rawtx[\"vin\"]:\n+            for utxo in list_unspent_after:\n+                if (txin[\"txid\"] == utxo[\"txid\"] and txin[\"vout\"] == utxo[\"vout\"]):\n+                    raise AssertionError(\"Fount used output on UTXOs list\")\n+\n+\n+        ###########################################################################\n+        #  Test case 2                                                            #\n+        #  Import address (watch-only) and retrieve new unspents (not spendable)  #\n+        ###########################################################################\n+\n+        # second node shouldn't have any unpent at the moment\n+        assert_equal(len(self.nodes[1].listunspent()), 0)\n+\n+        # import address from another node\n+        self.nodes[1].importaddress(send_to_address)\n+\n+        # making sure this address is watch-only\n+        assert(self.nodes[1].validateaddress(send_to_address)[\"iswatchonly\"])\n+\n+        # there should be only one unspendable unspent, from the imported address\n+        assert_equal(len(self.nodes[1].listunspent()), 1)\n+        assert(not self.nodes[1].listunspent()[0][\"spendable\"])\n+\n+        try:\n+            self.nodes[1].sendtoaddress(self.nodes[0].getnewaddress(), 1)\n+        except JSONRPCException:\n+            print(\"Impossible to send coins. Available output is unspendable.\")\n+\n+\n+        #######################################################################\n+        #  Test case 3                                                        #\n+        #  Import private key and check for updated unspents (now spendable)  #\n+        #######################################################################\n+\n+        # import private key, so this node can spend the available UTXO\n+        priv_key = self.nodes[2].dumpprivkey(send_to_address)\n+        self.nodes[1].importprivkey(priv_key)\n+\n+        # there should be only one spendable unspent, after importing private key\n+        assert_equal(len(self.nodes[1].listunspent()), 1)\n+        assert(self.nodes[1].listunspent()[0][\"spendable\"])\n+\n+        try:\n+            self.nodes[1].sendtoaddress(self.nodes[0].getnewaddress(), 0.1)\n+        except JSONRPCException, e:",
    "path": "qa/rpc-tests/listunspent.py",
    "position": null,
    "original_position": 110,
    "commit_id": "5d217decc1145823a3c126658c82c60cf7dbfec8",
    "original_commit_id": "0d8581d4a3b138824042c86bfbb23d29982806ce",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Please use py3 syntax here: `as e:`\n",
    "created_at": "2016-04-06T16:00:04Z",
    "updated_at": "2016-04-19T11:29:57Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7822#discussion_r58732375",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7822",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58732375"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7822#discussion_r58732375"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7822"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58732375/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 110,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58732622",
    "pull_request_review_id": null,
    "id": 58732622,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NzMyNjIy",
    "diff_hunk": "@@ -0,0 +1,117 @@\n+#!/usr/bin/env python2\n+# Copyright (c) 2014-2016 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class ListUnspentTest(BitcoinTestFramework):\n+\n+    def setup_chain(self):\n+        print(\"Initializing test directory \"+self.options.tmpdir)\n+        initialize_chain_clean(self.options.tmpdir, 3)\n+\n+    def setup_network(self, split=False):\n+        self.nodes = start_nodes(3, self.options.tmpdir)\n+\n+        connect_nodes_bi(self.nodes, 0, 1)\n+        connect_nodes_bi(self.nodes, 1, 2)\n+        connect_nodes_bi(self.nodes, 0, 2)\n+\n+        self.is_network_split=False\n+        self.sync_all()\n+\n+    def run_test(self):\n+\n+        ##########################################\n+        #  Test case 1                           #\n+        #  Mine some coins and spend one output  #\n+        ##########################################\n+\n+        # check there's no unspent output availabe on any nodes\n+        assert_equal(len(self.nodes[0].listunspent()), 0)\n+        assert_equal(len(self.nodes[1].listunspent()), 0)\n+        assert_equal(len(self.nodes[2].listunspent()), 0)\n+\n+        # mine enough blocks to generate one UTXO on first node\n+        self.nodes[0].generate(101)\n+        self.sync_all()\n+\n+        # list current unspents, only first node should return one unspent\n+        assert_equal(len(self.nodes[0].listunspent()), 1)\n+        assert_equal(len(self.nodes[1].listunspent()), 0)\n+        assert_equal(len(self.nodes[2].listunspent()), 0)\n+\n+        # make sure this output is spendable\n+        assert(self.nodes[0].listunspent()[0][\"spendable\"])\n+\n+        # sends some coins from first node to third node, to spend some available unspent outputs\n+        send_to_address = self.nodes[2].getnewaddress()\n+        txid = self.nodes[0].sendtoaddress(send_to_address, 10)\n+\n+        # since the only available UTXO was spent, there sould be none after the transaction\n+        assert_equal(len(self.nodes[0].listunspent()), 0)\n+\n+        # mine one more block to generate some more UTXOs\n+        self.nodes[0].generate(1)\n+        self.sync_all()\n+\n+        # list unspents after the transaction\n+        list_unspent_after = self.nodes[0].listunspent()\n+\n+        # retrieve that transaction and check if the transaction inputs are not among the unspents\n+        rawtx = self.nodes[0].getrawtransaction(txid, 1)\n+        for txin in rawtx[\"vin\"]:\n+            for utxo in list_unspent_after:\n+                if (txin[\"txid\"] == utxo[\"txid\"] and txin[\"vout\"] == utxo[\"vout\"]):\n+                    raise AssertionError(\"Fount used output on UTXOs list\")\n+\n+\n+        ###########################################################################\n+        #  Test case 2                                                            #\n+        #  Import address (watch-only) and retrieve new unspents (not spendable)  #\n+        ###########################################################################\n+\n+        # second node shouldn't have any unpent at the moment\n+        assert_equal(len(self.nodes[1].listunspent()), 0)\n+\n+        # import address from another node\n+        self.nodes[1].importaddress(send_to_address)\n+\n+        # making sure this address is watch-only\n+        assert(self.nodes[1].validateaddress(send_to_address)[\"iswatchonly\"])\n+\n+        # there should be only one unspendable unspent, from the imported address\n+        assert_equal(len(self.nodes[1].listunspent()), 1)\n+        assert(not self.nodes[1].listunspent()[0][\"spendable\"])\n+\n+        try:\n+            self.nodes[1].sendtoaddress(self.nodes[0].getnewaddress(), 1)\n+        except JSONRPCException:\n+            print(\"Impossible to send coins. Available output is unspendable.\")\n+\n+\n+        #######################################################################\n+        #  Test case 3                                                        #\n+        #  Import private key and check for updated unspents (now spendable)  #\n+        #######################################################################\n+\n+        # import private key, so this node can spend the available UTXO\n+        priv_key = self.nodes[2].dumpprivkey(send_to_address)\n+        self.nodes[1].importprivkey(priv_key)\n+\n+        # there should be only one spendable unspent, after importing private key\n+        assert_equal(len(self.nodes[1].listunspent()), 1)\n+        assert(self.nodes[1].listunspent()[0][\"spendable\"])\n+\n+        try:\n+            self.nodes[1].sendtoaddress(self.nodes[0].getnewaddress(), 0.1)\n+        except JSONRPCException, e:\n+            raise AssertionError(\"Not possible to send coins. Possible unsufficient funds.\")",
    "path": "qa/rpc-tests/listunspent.py",
    "position": null,
    "original_position": 111,
    "commit_id": "5d217decc1145823a3c126658c82c60cf7dbfec8",
    "original_commit_id": "0d8581d4a3b138824042c86bfbb23d29982806ce",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: No need to shadow the original exception. You can just remove the try-except block altogether and only leave the sendtoaddress\n",
    "created_at": "2016-04-06T16:01:29Z",
    "updated_at": "2016-04-19T11:29:57Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7822#discussion_r58732622",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7822",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58732622"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7822#discussion_r58732622"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7822"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58732622/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 111,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58747552",
    "pull_request_review_id": null,
    "id": 58747552,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NzQ3NTUy",
    "diff_hunk": "@@ -0,0 +1,117 @@\n+#!/usr/bin/env python2\n+# Copyright (c) 2014-2016 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class ListUnspentTest(BitcoinTestFramework):\n+\n+    def setup_chain(self):\n+        print(\"Initializing test directory \"+self.options.tmpdir)\n+        initialize_chain_clean(self.options.tmpdir, 3)\n+\n+    def setup_network(self, split=False):\n+        self.nodes = start_nodes(3, self.options.tmpdir)\n+\n+        connect_nodes_bi(self.nodes, 0, 1)\n+        connect_nodes_bi(self.nodes, 1, 2)\n+        connect_nodes_bi(self.nodes, 0, 2)\n+\n+        self.is_network_split=False\n+        self.sync_all()\n+\n+    def run_test(self):\n+\n+        ##########################################\n+        #  Test case 1                           #\n+        #  Mine some coins and spend one output  #\n+        ##########################################\n+\n+        # check there's no unspent output availabe on any nodes\n+        assert_equal(len(self.nodes[0].listunspent()), 0)\n+        assert_equal(len(self.nodes[1].listunspent()), 0)\n+        assert_equal(len(self.nodes[2].listunspent()), 0)\n+\n+        # mine enough blocks to generate one UTXO on first node\n+        self.nodes[0].generate(101)\n+        self.sync_all()\n+\n+        # list current unspents, only first node should return one unspent\n+        assert_equal(len(self.nodes[0].listunspent()), 1)\n+        assert_equal(len(self.nodes[1].listunspent()), 0)\n+        assert_equal(len(self.nodes[2].listunspent()), 0)\n+\n+        # make sure this output is spendable\n+        assert(self.nodes[0].listunspent()[0][\"spendable\"])\n+\n+        # sends some coins from first node to third node, to spend some available unspent outputs\n+        send_to_address = self.nodes[2].getnewaddress()\n+        txid = self.nodes[0].sendtoaddress(send_to_address, 10)\n+\n+        # since the only available UTXO was spent, there sould be none after the transaction\n+        assert_equal(len(self.nodes[0].listunspent()), 0)\n+\n+        # mine one more block to generate some more UTXOs\n+        self.nodes[0].generate(1)\n+        self.sync_all()\n+\n+        # list unspents after the transaction\n+        list_unspent_after = self.nodes[0].listunspent()\n+\n+        # retrieve that transaction and check if the transaction inputs are not among the unspents\n+        rawtx = self.nodes[0].getrawtransaction(txid, 1)\n+        for txin in rawtx[\"vin\"]:\n+            for utxo in list_unspent_after:\n+                if (txin[\"txid\"] == utxo[\"txid\"] and txin[\"vout\"] == utxo[\"vout\"]):\n+                    raise AssertionError(\"Fount used output on UTXOs list\")\n+\n+\n+        ###########################################################################\n+        #  Test case 2                                                            #\n+        #  Import address (watch-only) and retrieve new unspents (not spendable)  #\n+        ###########################################################################\n+\n+        # second node shouldn't have any unpent at the moment\n+        assert_equal(len(self.nodes[1].listunspent()), 0)\n+\n+        # import address from another node\n+        self.nodes[1].importaddress(send_to_address)\n+\n+        # making sure this address is watch-only\n+        assert(self.nodes[1].validateaddress(send_to_address)[\"iswatchonly\"])\n+\n+        # there should be only one unspendable unspent, from the imported address\n+        assert_equal(len(self.nodes[1].listunspent()), 1)\n+        assert(not self.nodes[1].listunspent()[0][\"spendable\"])\n+\n+        try:\n+            self.nodes[1].sendtoaddress(self.nodes[0].getnewaddress(), 1)\n+        except JSONRPCException:\n+            print(\"Impossible to send coins. Available output is unspendable.\")\n+\n+\n+        #######################################################################\n+        #  Test case 3                                                        #\n+        #  Import private key and check for updated unspents (now spendable)  #\n+        #######################################################################\n+\n+        # import private key, so this node can spend the available UTXO\n+        priv_key = self.nodes[2].dumpprivkey(send_to_address)\n+        self.nodes[1].importprivkey(priv_key)\n+\n+        # there should be only one spendable unspent, after importing private key\n+        assert_equal(len(self.nodes[1].listunspent()), 1)\n+        assert(self.nodes[1].listunspent()[0][\"spendable\"])\n+\n+        try:\n+            self.nodes[1].sendtoaddress(self.nodes[0].getnewaddress(), 0.1)\n+        except JSONRPCException, e:\n+            raise AssertionError(\"Not possible to send coins. Possible unsufficient funds.\")",
    "path": "qa/rpc-tests/listunspent.py",
    "position": null,
    "original_position": 111,
    "commit_id": "5d217decc1145823a3c126658c82c60cf7dbfec8",
    "original_commit_id": "0d8581d4a3b138824042c86bfbb23d29982806ce",
    "user": {
      "login": "joaopaulofonseca",
      "id": 16206754,
      "node_id": "MDQ6VXNlcjE2MjA2NzU0",
      "avatar_url": "https://avatars.githubusercontent.com/u/16206754?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joaopaulofonseca",
      "html_url": "https://github.com/joaopaulofonseca",
      "followers_url": "https://api.github.com/users/joaopaulofonseca/followers",
      "following_url": "https://api.github.com/users/joaopaulofonseca/following{/other_user}",
      "gists_url": "https://api.github.com/users/joaopaulofonseca/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joaopaulofonseca/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joaopaulofonseca/subscriptions",
      "organizations_url": "https://api.github.com/users/joaopaulofonseca/orgs",
      "repos_url": "https://api.github.com/users/joaopaulofonseca/repos",
      "events_url": "https://api.github.com/users/joaopaulofonseca/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joaopaulofonseca/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks for the tips. Fixed and rebased.\n",
    "created_at": "2016-04-06T17:31:21Z",
    "updated_at": "2016-04-19T11:29:57Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7822#discussion_r58747552",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7822",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58747552"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7822#discussion_r58747552"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7822"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58747552/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 111,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60115815",
    "pull_request_review_id": null,
    "id": 60115815,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwMTE1ODE1",
    "diff_hunk": "@@ -6,6 +6,27 @@\n from test_framework.test_framework import BitcoinTestFramework\n from test_framework.util import *\n \n+def check_array_result(object_array, to_match, expected):",
    "path": "qa/rpc-tests/wallet.py",
    "position": null,
    "original_position": 4,
    "commit_id": "5d217decc1145823a3c126658c82c60cf7dbfec8",
    "original_commit_id": "3b2eedcba3790fe30be5c4b29e462cb11989eaf7",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "If you copied this function from elsewhere, wouldn't it make sense to _move_ it instead to `test_framework/util.py`, so the utility function can be used in other tests as well?\n",
    "created_at": "2016-04-18T19:04:49Z",
    "updated_at": "2016-04-19T11:29:57Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7822#discussion_r60115815",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7822",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60115815"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7822#discussion_r60115815"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7822"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60115815/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 9,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60137297",
    "pull_request_review_id": null,
    "id": 60137297,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwMTM3Mjk3",
    "diff_hunk": "@@ -6,6 +6,27 @@\n from test_framework.test_framework import BitcoinTestFramework\n from test_framework.util import *\n \n+def check_array_result(object_array, to_match, expected):",
    "path": "qa/rpc-tests/wallet.py",
    "position": null,
    "original_position": 4,
    "commit_id": "5d217decc1145823a3c126658c82c60cf7dbfec8",
    "original_commit_id": "3b2eedcba3790fe30be5c4b29e462cb11989eaf7",
    "user": {
      "login": "joaopaulofonseca",
      "id": 16206754,
      "node_id": "MDQ6VXNlcjE2MjA2NzU0",
      "avatar_url": "https://avatars.githubusercontent.com/u/16206754?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joaopaulofonseca",
      "html_url": "https://github.com/joaopaulofonseca",
      "followers_url": "https://api.github.com/users/joaopaulofonseca/followers",
      "following_url": "https://api.github.com/users/joaopaulofonseca/following{/other_user}",
      "gists_url": "https://api.github.com/users/joaopaulofonseca/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joaopaulofonseca/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joaopaulofonseca/subscriptions",
      "organizations_url": "https://api.github.com/users/joaopaulofonseca/orgs",
      "repos_url": "https://api.github.com/users/joaopaulofonseca/repos",
      "events_url": "https://api.github.com/users/joaopaulofonseca/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joaopaulofonseca/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Indeed.. It is used by multiple tests. I think it comes in handy for current and future test cases. If you guys agree I guess this could be moved to `test_framework/util.py` to be reused whenever needed..\n",
    "created_at": "2016-04-18T21:26:44Z",
    "updated_at": "2016-04-19T11:29:57Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7822#discussion_r60137297",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7822",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60137297"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7822#discussion_r60137297"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7822"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60137297/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 9,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60144781",
    "pull_request_review_id": null,
    "id": 60144781,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwMTQ0Nzgx",
    "diff_hunk": "@@ -6,6 +6,27 @@\n from test_framework.test_framework import BitcoinTestFramework\n from test_framework.util import *\n \n+def check_array_result(object_array, to_match, expected):",
    "path": "qa/rpc-tests/wallet.py",
    "position": null,
    "original_position": 4,
    "commit_id": "5d217decc1145823a3c126658c82c60cf7dbfec8",
    "original_commit_id": "3b2eedcba3790fe30be5c4b29e462cb11989eaf7",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Sure, go ahead.\n",
    "created_at": "2016-04-18T22:21:48Z",
    "updated_at": "2016-04-19T11:29:57Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7822#discussion_r60144781",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7822",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60144781"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7822#discussion_r60144781"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7822"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60144781/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 9,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60198058",
    "pull_request_review_id": null,
    "id": 60198058,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwMTk4MDU4",
    "diff_hunk": "@@ -6,6 +6,27 @@\n from test_framework.test_framework import BitcoinTestFramework\n from test_framework.util import *\n \n+def check_array_result(object_array, to_match, expected):",
    "path": "qa/rpc-tests/wallet.py",
    "position": null,
    "original_position": 4,
    "commit_id": "5d217decc1145823a3c126658c82c60cf7dbfec8",
    "original_commit_id": "3b2eedcba3790fe30be5c4b29e462cb11989eaf7",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Do you intend to do so in this pull? If so I'll wait with merging.\n",
    "created_at": "2016-04-19T09:21:34Z",
    "updated_at": "2016-04-19T11:29:57Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7822#discussion_r60198058",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7822",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60198058"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7822#discussion_r60198058"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7822"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60198058/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 9,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60205634",
    "pull_request_review_id": null,
    "id": 60205634,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwMjA1NjM0",
    "diff_hunk": "@@ -6,6 +6,27 @@\n from test_framework.test_framework import BitcoinTestFramework\n from test_framework.util import *\n \n+def check_array_result(object_array, to_match, expected):",
    "path": "qa/rpc-tests/wallet.py",
    "position": null,
    "original_position": 4,
    "commit_id": "5d217decc1145823a3c126658c82c60cf7dbfec8",
    "original_commit_id": "3b2eedcba3790fe30be5c4b29e462cb11989eaf7",
    "user": {
      "login": "joaopaulofonseca",
      "id": 16206754,
      "node_id": "MDQ6VXNlcjE2MjA2NzU0",
      "avatar_url": "https://avatars.githubusercontent.com/u/16206754?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joaopaulofonseca",
      "html_url": "https://github.com/joaopaulofonseca",
      "followers_url": "https://api.github.com/users/joaopaulofonseca/followers",
      "following_url": "https://api.github.com/users/joaopaulofonseca/following{/other_user}",
      "gists_url": "https://api.github.com/users/joaopaulofonseca/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joaopaulofonseca/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joaopaulofonseca/subscriptions",
      "organizations_url": "https://api.github.com/users/joaopaulofonseca/orgs",
      "repos_url": "https://api.github.com/users/joaopaulofonseca/repos",
      "events_url": "https://api.github.com/users/joaopaulofonseca/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joaopaulofonseca/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes, since we are on this topic.\n",
    "created_at": "2016-04-19T10:14:25Z",
    "updated_at": "2016-04-19T11:29:57Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7822#discussion_r60205634",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7822",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60205634"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7822#discussion_r60205634"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7822"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60205634/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 9,
    "side": "RIGHT"
  }
]