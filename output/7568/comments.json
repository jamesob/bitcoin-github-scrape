[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/186685821",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7568#issuecomment-186685821",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7568",
    "id": 186685821,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NjY4NTgyMQ==",
    "user": {
      "login": "btcdrak",
      "id": 7275704,
      "node_id": "MDQ6VXNlcjcyNzU3MDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7275704?u=578995010af9e1872285cb8e67bcb4f6052d52dd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/btcdrak",
      "html_url": "https://github.com/btcdrak",
      "followers_url": "https://api.github.com/users/btcdrak/followers",
      "following_url": "https://api.github.com/users/btcdrak/following{/other_user}",
      "gists_url": "https://api.github.com/users/btcdrak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/btcdrak/subscriptions",
      "organizations_url": "https://api.github.com/users/btcdrak/orgs",
      "repos_url": "https://api.github.com/users/btcdrak/repos",
      "events_url": "https://api.github.com/users/btcdrak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/btcdrak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-20T21:45:38Z",
    "updated_at": "2016-02-20T21:45:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "Is this related to #7488 as well?\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/186685821/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/186691718",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7568#issuecomment-186691718",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7568",
    "id": 186691718,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NjY5MTcxOA==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-20T22:17:35Z",
    "updated_at": "2016-02-20T22:17:35Z",
    "author_association": "MEMBER",
    "body": "@btcdrak I believe so.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/186691718/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/186696716",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7568#issuecomment-186696716",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7568",
    "id": 186696716,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NjY5NjcxNg==",
    "user": {
      "login": "dgenr8",
      "id": 4284124,
      "node_id": "MDQ6VXNlcjQyODQxMjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4284124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dgenr8",
      "html_url": "https://github.com/dgenr8",
      "followers_url": "https://api.github.com/users/dgenr8/followers",
      "following_url": "https://api.github.com/users/dgenr8/following{/other_user}",
      "gists_url": "https://api.github.com/users/dgenr8/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dgenr8/subscriptions",
      "organizations_url": "https://api.github.com/users/dgenr8/orgs",
      "repos_url": "https://api.github.com/users/dgenr8/repos",
      "events_url": "https://api.github.com/users/dgenr8/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dgenr8/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-20T22:52:17Z",
    "updated_at": "2016-02-20T22:52:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "Oh yes, that was actually what prompted me.  I've asked Meni Rosenfeld and another person who ran simulations to comment.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/186696716/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/187473848",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7568#issuecomment-187473848",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7568",
    "id": 187473848,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NzQ3Mzg0OA==",
    "user": {
      "login": "dgenr8",
      "id": 4284124,
      "node_id": "MDQ6VXNlcjQyODQxMjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4284124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dgenr8",
      "html_url": "https://github.com/dgenr8",
      "followers_url": "https://api.github.com/users/dgenr8/followers",
      "following_url": "https://api.github.com/users/dgenr8/following{/other_user}",
      "gists_url": "https://api.github.com/users/dgenr8/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dgenr8/subscriptions",
      "organizations_url": "https://api.github.com/users/dgenr8/orgs",
      "repos_url": "https://api.github.com/users/dgenr8/repos",
      "events_url": "https://api.github.com/users/dgenr8/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dgenr8/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-23T01:52:12Z",
    "updated_at": "2016-02-23T01:52:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "We use an arbitrary threshold of a once-in-fifty-years event.  We don't need to use a second arbitrary parameter for the sample interval.\n\nUpdated to sample at 130-minute intervals, instead of 240 minutes.  This is the minimum interval required for an observation of zero blocks to happen spuriously less than once in fifty years.  The high-side check works out to 33 or more blocks in 130 minutes.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/187473848/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/188570371",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7568#issuecomment-188570371",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7568",
    "id": 188570371,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODU3MDM3MQ==",
    "user": {
      "login": "bitcoinfees",
      "id": 9492819,
      "node_id": "MDQ6VXNlcjk0OTI4MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9492819?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bitcoinfees",
      "html_url": "https://github.com/bitcoinfees",
      "followers_url": "https://api.github.com/users/bitcoinfees/followers",
      "following_url": "https://api.github.com/users/bitcoinfees/following{/other_user}",
      "gists_url": "https://api.github.com/users/bitcoinfees/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bitcoinfees/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bitcoinfees/subscriptions",
      "organizations_url": "https://api.github.com/users/bitcoinfees/orgs",
      "repos_url": "https://api.github.com/users/bitcoinfees/repos",
      "events_url": "https://api.github.com/users/bitcoinfees/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bitcoinfees/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-25T02:27:55Z",
    "updated_at": "2016-02-25T02:27:55Z",
    "author_association": "NONE",
    "body": "The math is correct, i.e. the false positive rate is once every ~ 50 years assuming an average block time of 10 min. To be clear, this is the combined (two-sided) alert rate; the one-sided alerts (pHigh or pLow) have individual rates of every ~ 100 years.\n\nThis is in contrast to the original code, which from [simulation](https://gist.github.com/bitcoinfees/0f2203bdced119b98c30), gives an alert rate of ~ 3.5 years.\n\nAdditional statistics: assuming the block rate deviates from the proof-of-work target by 20% (due to changing hash rate), then pHigh / pLow will have rates of once per 3 / 8 years respectively, which seems reasonable.  If this is deemed too high, the test can be modified to allow for deviations up to a specified amount.\n\nThe other significant change here is that the test spans are made non-overlapping, and their frequency is reduced from once per 10 minutes to once per 130 minutes. This unfortunately reduces the potential statistical power (the ability to correctly detect an anomaly), and also adds latency to the alerts.\n\nThe main reason for this change is that is not trivial to determine the threshold for overlapping spans. It can be done by simulation, but that's not as a good as the closed-form solution that you would get for non-overlapping spans.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/188570371/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/193412955",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7568#issuecomment-193412955",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7568",
    "id": 193412955,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5MzQxMjk1NQ==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-07T19:31:59Z",
    "updated_at": "2016-03-07T19:31:59Z",
    "author_association": "MEMBER",
    "body": "Concept ACK\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/193412955/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/197049602",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7568#issuecomment-197049602",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7568",
    "id": 197049602,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5NzA0OTYwMg==",
    "user": {
      "login": "MeniRosenfeld",
      "id": 822642,
      "node_id": "MDQ6VXNlcjgyMjY0Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/822642?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MeniRosenfeld",
      "html_url": "https://github.com/MeniRosenfeld",
      "followers_url": "https://api.github.com/users/MeniRosenfeld/followers",
      "following_url": "https://api.github.com/users/MeniRosenfeld/following{/other_user}",
      "gists_url": "https://api.github.com/users/MeniRosenfeld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MeniRosenfeld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MeniRosenfeld/subscriptions",
      "organizations_url": "https://api.github.com/users/MeniRosenfeld/orgs",
      "repos_url": "https://api.github.com/users/MeniRosenfeld/repos",
      "events_url": "https://api.github.com/users/MeniRosenfeld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MeniRosenfeld/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-15T22:16:49Z",
    "updated_at": "2016-03-15T22:16:49Z",
    "author_association": "NONE",
    "body": "In case it's still relevant, here's one issue that came up in my discussions with dgenr8:\n\nAs far as I understand, the test is conducted at 4 hour intervals after the node starts. With the computed threshold and assuming constant hashrate, the fail-high (>=33 blocks in 120 minutes) should trigger for this node every ~100 years.\n\nHowever, this is not the only node on the network; and different nodes start at different times, and so they sample on different schedules. So there are more opportunities for the alarm to be falsely triggered somewhere on the network.\n\nSo if the event we are trying to prevent is \"hashrate is constant and yet an alarm is triggered somewhere on the network\" then this is no better than the original method where each node sampled continuously (because the network as a whole sampled continuously). For the new parameters, I estimate it will trigger every ~18 years (I haven't run simulations yet).\n\nOn top of that we have the added confusion of some nodes reporting an alarm while others do not.\n\nIt would make more sense to me if each node tested for the alarm once when it starts, and then on a 4-hour schedule which is the same for all nodes.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/197049602/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/203676136",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7568#issuecomment-203676136",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7568",
    "id": 203676136,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMzY3NjEzNg==",
    "user": {
      "login": "dgenr8",
      "id": 4284124,
      "node_id": "MDQ6VXNlcjQyODQxMjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4284124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dgenr8",
      "html_url": "https://github.com/dgenr8",
      "followers_url": "https://api.github.com/users/dgenr8/followers",
      "following_url": "https://api.github.com/users/dgenr8/following{/other_user}",
      "gists_url": "https://api.github.com/users/dgenr8/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dgenr8/subscriptions",
      "organizations_url": "https://api.github.com/users/dgenr8/orgs",
      "repos_url": "https://api.github.com/users/dgenr8/repos",
      "events_url": "https://api.github.com/users/dgenr8/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dgenr8/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-30T23:06:59Z",
    "updated_at": "2016-03-30T23:23:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "@MeniRosenfeld What will happen is a more severe problem that lasts longer will get more nodes reporting it, while a shorter-lived problem will get fewer nodes reporting it.  It's similar to different nodes seeing different resolutions to block races, in proportion to the closeness of the race.\n\nSynchronizing the checks network-wide can't be a good idea.  Also, we must not check at startup because the last check may have been less than 130 minutes ago.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/203676136/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/204043307",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7568#issuecomment-204043307",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7568",
    "id": 204043307,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNDA0MzMwNw==",
    "user": {
      "login": "morcos",
      "id": 4360349,
      "node_id": "MDQ6VXNlcjQzNjAzNDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4360349?u=b7dd63827227d69794b5fe28797b1bd107b930dd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/morcos",
      "html_url": "https://github.com/morcos",
      "followers_url": "https://api.github.com/users/morcos/followers",
      "following_url": "https://api.github.com/users/morcos/following{/other_user}",
      "gists_url": "https://api.github.com/users/morcos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/morcos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
      "organizations_url": "https://api.github.com/users/morcos/orgs",
      "repos_url": "https://api.github.com/users/morcos/repos",
      "events_url": "https://api.github.com/users/morcos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/morcos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-31T17:35:43Z",
    "updated_at": "2016-03-31T17:35:43Z",
    "author_association": "MEMBER",
    "body": "Do we know that the cause of false positives would be cured by the changes here?  It seems likely to me that the bigger culprit is the variability that can exist on block times which isn't representative of when they were actually found.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/204043307/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/204049709",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7568#issuecomment-204049709",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7568",
    "id": 204049709,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNDA0OTcwOQ==",
    "user": {
      "login": "MeniRosenfeld",
      "id": 822642,
      "node_id": "MDQ6VXNlcjgyMjY0Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/822642?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MeniRosenfeld",
      "html_url": "https://github.com/MeniRosenfeld",
      "followers_url": "https://api.github.com/users/MeniRosenfeld/followers",
      "following_url": "https://api.github.com/users/MeniRosenfeld/following{/other_user}",
      "gists_url": "https://api.github.com/users/MeniRosenfeld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MeniRosenfeld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MeniRosenfeld/subscriptions",
      "organizations_url": "https://api.github.com/users/MeniRosenfeld/orgs",
      "repos_url": "https://api.github.com/users/MeniRosenfeld/repos",
      "events_url": "https://api.github.com/users/MeniRosenfeld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MeniRosenfeld/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-31T17:50:12Z",
    "updated_at": "2016-03-31T17:50:12Z",
    "author_association": "NONE",
    "body": "@morcos : \n1. \"A\" cause would be cured. There might be other problems but it doesn't mean we shouldn't solve this one.\n2. According to a model that assumes that reported timestamps are accurate, the original code resulted in false positives being triggered x10 too frequently. The new code tests the time span for 33 blocks - if you tell me how much you expect the reported span to be off, I can say how much this effect makes false positives more frequent.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/204049709/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/204063155",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7568#issuecomment-204063155",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7568",
    "id": 204063155,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNDA2MzE1NQ==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-31T18:19:22Z",
    "updated_at": "2016-03-31T18:19:22Z",
    "author_association": "MEMBER",
    "body": "So there are various issues, and it seems different people are arguing for\nfixing different ones.\n- The probabilities in the current code are wrong, they're using PDF\n  instead of CDF. This PR fixes it.\n- The current code samples overlapping periods, causing the false positive\n  rate to be too high. This PR fixes it.\n- We're not taking into account that the difficulty does not necessarily\n  corresponds to the actual hashrate. For extreme cases, the whole point is\n  of course exactly just detecting that, but if there is normal steady\n  continuous growth of the hashrate, the difficulty is on average slightly\n  off, and the probabilities don't take that into account. We could account\n  for that by just multiplying or dividing by 1.1 towards the expected value,\n  but the PR here does not do that.\n- We're not taking into account that the block timestamps do not\n  necessarily correspond to the actual block generation timestamps. We could\n  fix that by remembering the actual local system time at which a block was\n  received, but that would only work for long running nodes.\n- Depending on whether you consider a single node to be showing an false\n  alert to be less bad, the fact that different nodes check at different\n  times may or may not be a problem. As suggested before, using coordinated\n  check times would fix that.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/204063155/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/204067664",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7568#issuecomment-204067664",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7568",
    "id": 204067664,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNDA2NzY2NA==",
    "user": {
      "login": "gmaxwell",
      "id": 858454,
      "node_id": "MDQ6VXNlcjg1ODQ1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/858454?u=63e5c438c242094837a9deeda775d77988b508bf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gmaxwell",
      "html_url": "https://github.com/gmaxwell",
      "followers_url": "https://api.github.com/users/gmaxwell/followers",
      "following_url": "https://api.github.com/users/gmaxwell/following{/other_user}",
      "gists_url": "https://api.github.com/users/gmaxwell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
      "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
      "repos_url": "https://api.github.com/users/gmaxwell/repos",
      "events_url": "https://api.github.com/users/gmaxwell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-31T18:32:46Z",
    "updated_at": "2016-03-31T18:32:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think that it's better to have all the FPs happen at once, then communication can effectively address them.  If they happen at different times, there will be an increased general rate of FPs and no one will know if something is wrong but they were just the first to detect or whatever.\n\nWe still don't seem to completely understand all the causes of false positives here.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/204067664/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/221510692",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7568#issuecomment-221510692",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7568",
    "id": 221510692,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMTUxMDY5Mg==",
    "user": {
      "login": "arowser",
      "id": 541066,
      "node_id": "MDQ6VXNlcjU0MTA2Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/541066?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arowser",
      "html_url": "https://github.com/arowser",
      "followers_url": "https://api.github.com/users/arowser/followers",
      "following_url": "https://api.github.com/users/arowser/following{/other_user}",
      "gists_url": "https://api.github.com/users/arowser/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arowser/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arowser/subscriptions",
      "organizations_url": "https://api.github.com/users/arowser/orgs",
      "repos_url": "https://api.github.com/users/arowser/repos",
      "events_url": "https://api.github.com/users/arowser/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arowser/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-25T08:44:48Z",
    "updated_at": "2016-05-25T08:44:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "Can one of the admins verify this patch?\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/221510692/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/224998510",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7568#issuecomment-224998510",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7568",
    "id": 224998510,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNDk5ODUxMA==",
    "user": {
      "login": "dgenr8",
      "id": 4284124,
      "node_id": "MDQ6VXNlcjQyODQxMjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4284124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dgenr8",
      "html_url": "https://github.com/dgenr8",
      "followers_url": "https://api.github.com/users/dgenr8/followers",
      "following_url": "https://api.github.com/users/dgenr8/following{/other_user}",
      "gists_url": "https://api.github.com/users/dgenr8/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dgenr8/subscriptions",
      "organizations_url": "https://api.github.com/users/dgenr8/orgs",
      "repos_url": "https://api.github.com/users/dgenr8/repos",
      "events_url": "https://api.github.com/users/dgenr8/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dgenr8/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-09T19:19:07Z",
    "updated_at": "2016-06-09T19:19:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "@sipa This is regarding your last three points.  Sometimes (rarely) a factor of .9 would be better than a factor of 1.1, so maybe that's trying too hard.  It would be kind of nice to detect blocktime shenanigans.  And I feel coordinating alert times would be totally artificial because there's no globally correct sampling schedule.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/224998510/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/225794646",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7568#issuecomment-225794646",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7568",
    "id": 225794646,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNTc5NDY0Ng==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-14T06:52:27Z",
    "updated_at": "2016-06-14T06:52:27Z",
    "author_association": "MEMBER",
    "body": "I still don't think this has received enough review or testing.\nAlso there are lots of proposals but no further progress.\nThis has to be resolved before 0.13 release (but not necessarily the feature freeze, it's not a new feature) or the functionality will have to be disabled like was done for 0.12.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/225794646/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/237194987",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7568#issuecomment-237194987",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7568",
    "id": 237194987,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNzE5NDk4Nw==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-03T09:55:24Z",
    "updated_at": "2016-08-03T09:55:24Z",
    "author_association": "MEMBER",
    "body": "This functionality has been removed in #8275, closing.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/237194987/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/55281283",
    "pull_request_review_id": null,
    "id": 55281283,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjgxMjgz",
    "diff_hunk": "@@ -1672,7 +1672,8 @@ bool AppInit2(boost::thread_group& threadGroup, CScheduler& scheduler)\n     int64_t nPowTargetSpacing = Params().GetConsensus().nPowTargetSpacing;\n     CScheduler::Function f = boost::bind(&PartitionCheck, &IsInitialBlockDownload,\n                                          boost::ref(cs_main), boost::cref(pindexBestHeader), nPowTargetSpacing);\n-    scheduler.scheduleEvery(f, nPowTargetSpacing);\n+    CBlockIndex *pdummy = NULL;\n+    scheduler.scheduleEvery(f, PartitionCheck(&IsInitialBlockDownload, boost::ref(cs_main), boost::cref(pdummy), nPowTargetSpacing));",
    "path": "src/init.cpp",
    "position": 6,
    "original_position": 6,
    "commit_id": "580aaa36a0f424b8d7af17ed6bc2c6e48febd842",
    "original_commit_id": "580aaa36a0f424b8d7af17ed6bc2c6e48febd842",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It took me a while to understand this, with PartitionCheck called once as the scheduled function, and once specially to determine the frequency.\n\nWouldn't it be easy to just schedule it once, and have each invocation schedule its own next call? That way the interval cal also be made dynamic more easily.\n",
    "created_at": "2016-03-07T22:07:22Z",
    "updated_at": "2016-03-07T22:07:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7568#discussion_r55281283",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7568",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/55281283"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7568#discussion_r55281283"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7568"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/55281283/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1676,
    "original_line": 1676,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/55298715",
    "pull_request_review_id": null,
    "id": 55298715,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Mjk4NzE1",
    "diff_hunk": "@@ -1672,7 +1672,8 @@ bool AppInit2(boost::thread_group& threadGroup, CScheduler& scheduler)\n     int64_t nPowTargetSpacing = Params().GetConsensus().nPowTargetSpacing;\n     CScheduler::Function f = boost::bind(&PartitionCheck, &IsInitialBlockDownload,\n                                          boost::ref(cs_main), boost::cref(pindexBestHeader), nPowTargetSpacing);\n-    scheduler.scheduleEvery(f, nPowTargetSpacing);\n+    CBlockIndex *pdummy = NULL;\n+    scheduler.scheduleEvery(f, PartitionCheck(&IsInitialBlockDownload, boost::ref(cs_main), boost::cref(pdummy), nPowTargetSpacing));",
    "path": "src/init.cpp",
    "position": 6,
    "original_position": 6,
    "commit_id": "580aaa36a0f424b8d7af17ed6bc2c6e48febd842",
    "original_commit_id": "580aaa36a0f424b8d7af17ed6bc2c6e48febd842",
    "user": {
      "login": "dgenr8",
      "id": 4284124,
      "node_id": "MDQ6VXNlcjQyODQxMjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4284124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dgenr8",
      "html_url": "https://github.com/dgenr8",
      "followers_url": "https://api.github.com/users/dgenr8/followers",
      "following_url": "https://api.github.com/users/dgenr8/following{/other_user}",
      "gists_url": "https://api.github.com/users/dgenr8/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dgenr8/subscriptions",
      "organizations_url": "https://api.github.com/users/dgenr8/orgs",
      "repos_url": "https://api.github.com/users/dgenr8/repos",
      "events_url": "https://api.github.com/users/dgenr8/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dgenr8/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I did this just to keep the constants out of global scope, which would probably be more readable.  A drawback of constant rescheduling would be some drift, probably not much.\n",
    "created_at": "2016-03-08T00:35:52Z",
    "updated_at": "2016-03-08T00:35:52Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7568#discussion_r55298715",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7568",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/55298715"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7568#discussion_r55298715"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7568"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/55298715/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1676,
    "original_line": 1676,
    "side": "RIGHT"
  }
]