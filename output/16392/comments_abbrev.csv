DrahtBot,2019-07-15 07:21:15,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#17919](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17919.html) (depends: Allow building with system clang b",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-511297703,511297703,
practicalswift,2019-07-22 23:29:45,Concept ACK,https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-513992725,513992725,
DrahtBot,2019-07-25 03:33:55,<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase,https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-514881869,514881869,
Sjors,2019-07-25 09:02:10,"Tested building depends on macOS 10.14.6 Mojave. I still had to do this annoying workaround:\n\n```\nopen /Library/Developer/CommandLineTools/Packages/macOS_SDK_headers_for_macOS_10.14.pkg\n```\n\nAnd building protobuf fails: [log](https://gist.github.com/Sjors/2b39b5f70016b059170f65ee87f56dfb) \n\nIf I remove protobuf and native_protobuf it does build. I can then compile QT:\n\n```sh\n",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-514961763,514961763,
fanquake,2019-07-26 00:56:52,"> I still had to do this annoying workaround:\n\nYep, that isn't new with this change, but may go away if we can remove any reliance on having the headers in the now deprecated location. See details in the [`Command Line Tools section`](https://developer.apple.com/documentation/xcode_release_notes/xcode_10_release_notes) of the Xcode 10 release notes. \n\n> If I remove protobuf and native_prot",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-515268092,515268092,
jonasschnelli,2019-07-26 08:44:32,"Concept ACK.\nUnsure about the timing, if its already the time to drop 10.10 & 10.11 since 10.11 was released on Oct 2015.\nAccording to statista, in April 2019, 10.10 and 10.11 makes about 16% of mac installations.\n(https://www.statista.com/statistics/944559/worldwide-macos-version-market-share/)\n\nAidium publishes their update stats and it looks like, >10% was using 10.11 this week.\nhtt",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-515365549,515365549,
Sjors,2019-07-26 12:32:49,"> Did you try to build depends before installing the new headers? If you `make clean` in depends\n\nI thought I did, but maybe not. I just tried `make clean` and now protobuf indeed just buids (on \n536034b).\n\n> It'd say we wait with this.\n\nIf it doesn't break anything else, maybe we can do this bump when we bump QT to 5.12 (LTS)?",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-515432825,515432825,
fanquake,2019-07-30 02:05:15,"Updated to add some documentation (Linux) for the macOS 10.14 SDK extraction. This doesn't have to be the final docs, but should be useful for someone on a Linux machine wanting to extract the SDK and test this PR.\n\n> It'd say we wait with this.\n\nWe don't have to bump the minimum to `10.12` right now. We could do `10.11`, or potentially leave it at `10.10` assuming there aren't any issues ",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-516229556,516229556,
Sjors,2019-08-01 17:19:07,"From Apple: ""All Macintosh computers that can run Mountain Lion, Mavericks, or Yosemite can run El Capitan"" (10.11). I suspect many people just don't realize they can upgrade.\n\nI managed to build `depends` on macOS 10.14.6 (Mojave) with the minimum version set to 10.10\n\n> [...] may go away if we can remove any reliance on having the headers in the now deprecated location\n\nThat means th",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-517379891,517379891,
theuni,2019-08-02 20:47:52,"I tested a few of my cleanup suggestions above, and they seem to work fine.\nFeel free to pull the top two from here: https://github.com/theuni/bitcoin/commits/16392, or adapt them into your commits however's easiest.",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-517839604,517839604,
fanquake,2019-08-05 03:50:07,"@theuni I've incorporated some of your suggestions (trimming the LD64 stuff, and the clang hacks) and added you as co-author to the relevant commits.\n\nWe are now pointing back to upstream `libdmg-hfsplus`, with a single patch included in depends.\n\nWe are also now pointing back to the upstream `cctools-port` repo.\n\n`libtapi` is now being built with our `6.0.1` Clang and I've removed one",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-518075760,518075760,
Sjors,2019-08-05 09:58:17,Building depends on macOS 10.14.6 Mojave still works as of 97b3349.,https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-518169607,518169607,
fanquake,2019-08-06 06:02:56,"I've updated this to pull the macOS DMG notes (with some minor changes) out of `build-osx.md` and put them in the `contrib/macdeploy/README.md` with the other deployment notes.\nI've also added a new section on extracting the new SDK when your using `macOS`.",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-518516721,518516721,
BlockMechanic,2019-08-12 05:50:25,":+1:  Concept ACK, this may help alleviate issues i've had trying to create build bitcoin-qt on aarch64. ",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-520305122,520305122,
laanwj,2019-09-05 11:47:24,"I think it's too late to do this for 0.19, might want to bump the milestone to 0.20 and then do it early in the merge window?",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-528326006,528326006,
jonasschnelli,2019-09-05 13:27:37,"I also think it is too early for no good reason.\n> According to statista, in April 2019, 10.10 and 10.11 makes about 16% of mac installations.",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-528362858,528362858,
fanquake,2019-09-10 00:51:41,"> I think it's too late to do this for 0.19, \n\nOk. I've punted this to `v0.20.0`, for an early merge. Will address remaining comments here shortly.",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-529721711,529721711,
laanwj,2019-10-02 17:23:53,"> Ok. I've punted this to v0.20.0, for an early merge. Will address remaining comments here shortly.\n\n:smiling_imp: ",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-537595895,537595895,
dongcarl,2019-10-08 19:12:46,"Gitian build for 329af88c548ff4afe6fed7fdbad3d39f62044048 is failing for me, `tail -n1024 build.log`: https://paste.sr.ht/%7Edongcarl/fcafb82a86a68e86c5b29b5e32e00d68211d2661",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-539659951,539659951,
fanquake,2019-10-08 19:13:49,@dongcarl Looks like the macOS SDK isn't available?,https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-539660322,539660322,
dongcarl,2019-10-08 19:15:20,"@fanquake `docker exec -it --user root gitian-target find -name '*.sdk.tar.gz'` outputs `./build/MacOSX10.14.sdk.tar.gz`\n\nObtained using `cd /Applications && tar -C Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/ -czf MacOSX10.14.sdk.tar.gz MacOSX.sdk` after downloading Xcode from App Store",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-539660846,539660846,
fanquake,2019-10-08 19:19:25,"@dongcarl Has it been untarred inside `depends/SDKs`?\n\nEvery time I've seen `fatal error: 'unistd.h' file not found` has been because depends can't find the macOS SDK.",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-539662383,539662383,
dongcarl,2019-10-08 19:20:54,"@fanquake Here's what I see inside the docker container:\n```\nroot@694ebefb6b63:/home/ubuntu/build/bitcoin/depends/SDKs/MacOSX.sdk# ls\nEntitlements.plist  Library  SDKSettings.json  SDKSettings.plist  System  usr\n```",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-539662981,539662981,
dongcarl,2019-10-08 19:22:40,Oh wait... I have too new of an Xcode... It's actually `MacOSX10.15.sdk` that I `tarred` up...,https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-539663674,539663674,
fanquake,2019-10-08 19:24:51,"> Oh wait... I have too new of an Xcode... It's actually MacOSX10.15.sdk that I tarred up...\n\n@dongcarl That would likely actually work fine.\n\nThe real problem is that you need to rename the directory to `MacOSX10.14.sdk` rather than `MacOSX.sdk`. See how the path is [built in depends](https://github.com/bitcoin/bitcoin/blob/master/depends/hosts/darwin.mk#L3).",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-539664510,539664510,
dongcarl,2019-10-08 20:30:45,"@fanquake Thanks for offline help for the above.\nI also ran into another error mentioning `libc++abi.so` that was solved by readding a previously-removed line:\n```diff\ndiff --git a/depends/packages/native_cctools.mk b/depends/packages/native_cctools.mk\nindex 2371a691b..ecfc6f9d5 100644\n--- a/depends/packages/native_cctools.mk\n+++ b/depends/packages/native_cctools.mk\n@@ -36,6 +36,7 @@",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-539690890,539690890,
dongcarl,2019-10-08 23:23:16,"With these patches, I was able to perform a Gitian build: https://github.com/fanquake/bitcoin/compare/329af88c548ff4afe6fed7fdbad3d39f62044048...dongcarl:2019-10-fixing-fanquake-osx-bump\n\nIf @theuni could shed light on the context of f6448f99ef1cb688edffcd4b5934af938b0e228a, we should document it.",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-539745422,539745422,
BlockMechanic,2019-10-14 19:29:27,I do not see an actual change to Qt 5.12 in the PR... is this in preparation ? ,https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-541874113,541874113,
Fuzzbawls,2019-10-14 23:39:27,"Regarding the bumping of minimum supported macOS (OS X) version: I would say that 10.11 minimum is fine, but 10.12 requires newer CPU based SSE4.1 support that prevent otherwise perfectly viable CPUs (older Xeon CPUs mainly) from upgrading to 10.12.\n",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-541974962,541974962,
dongcarl,2019-10-16 14:21:38,@fanquake You might want to cherry-pick in my `README` fixes for your changes here: https://github.com/bitcoin/bitcoin/pull/17099/commits/1250d228e14672e4c2e0c83a6548929749c64ce0,https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-542725823,542725823,
fanquake,2019-10-16 15:10:36,@dongcarl pulled your changes in as part of 1052e1a44e93a3a3cf2fe18a17916ea5f2dbe07f.,https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-542749449,542749449,
dongcarl,2019-10-16 15:31:15,"@fanquake Also, as mentioned above, you probably also need f6448f99ef1cb688edffcd4b5934af938b0e228a to fix Gitian builds. :grimacing:",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-542759475,542759475,
fanquake,2019-10-16 15:52:18,@dongcarl I've reverted the removal of that line in bf9488b1dd228a011f61ae21a642ee9ce69e03c2 as well updated 9d51eb8cca106ecaf9a05e52e15bfbf93fbde4a8 to point to the latest upstream version of `cctools`.,https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-542769068,542769068,
dongcarl,2019-10-17 15:46:23,@fanquake Would you say that this is no longer WIP? I'd say it's ready for merge :grimacing: ,https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-543237682,543237682,
MarcoFalke,2019-10-17 15:49:00,Not so fast. Let's fix the travis and DrahtBot failure first. ;) ,https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-543238821,543238821,
MarcoFalke,2019-10-17 15:49:04,https://travis-ci.org/bitcoin/bitcoin/jobs/598728043#L1466,https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-543238839,543238839,
fanquake,2019-10-17 15:51:18,"> Would you say that this is no longer WIP? I'd say it's ready for merge ðŸ˜¬\n\nI'll do a final rebase/any cleanup and remove the `[WIP]` tag.\n\n> Not so fast. Let's fix the travis and DrahtBot failure first. ;)\n\nThis should just require making the newer SDK available to both.",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-543239815,543239815,
fanquake,2019-10-21 12:47:08,"Rebased on master and pushed some changes to fix the doc suggestions above.\n\n> Although QT depends are built and configure log says checking whether to build Bitcoin Core GUI... yes (Qt5), the configure summary drops it: with gui / qt = no. See configure log.\n\nThat's unrelated to this PR. The reason Qt isn't being picked up is in the log: `configure: WARNING: PROTOC not found; bitcoin-qt f",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-544498263,544498263,
Sjors,2019-10-21 16:14:11,"ACK  dedc8c7 (modulo Travis being able to download the SDK)\n\nRe: `WARNING: PROTOC not found`: that means it's not finding protobuf in the depends. I'm also getting this issue on master, so indeed unrelated.\n\nWithout BIP70 I can build and do `make deploy`. Some light testing didn't reveal any issues.",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-544589691,544589691,
fanquake,2019-10-23 18:06:57,"Me and Cory have been discussing moving straight to Clang 9, instead of 6. However that has turned up some issues related to Boost and Clangs `-dumpversion`. Cory is going to PR some changes first, then we can circle back around to here.",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-545567533,545567533,
fanquake,2019-10-25 19:49:47,Pushed up a rebase here as reqeusted by theuni. Going to look at using the 10.15 SDK instead of the 10.14 SDK as well.,https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-546489223,546489223,
MarcoFalke,2019-11-12 18:46:43,"> Pushed up a rebase here as reqeusted by theuni. Going to look at using the 10.15 SDK instead of the 10.14 SDK as well.\n\nThe 10.15 SDK gave problems, so sticking to 10.14 seems better for now? https://github.com/bitcoin-core/secp256k1/issues/674#issuecomment-546520166",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-553051747,553051747,
MarcoFalke,2019-11-12 18:48:53,Anything left to do here except pushing up the new SDK to our depends mirror?,https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-553054707,553054707,
fanquake,2019-11-12 19:26:39,"> Anything left to do here except pushing up the new SDK to our depends mirror?\n\nI have some cctools-port changes to review and we will likely switch to a newer version of Clang. I will get that done over the next 2 days.",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-553075475,553075475,
fanquake,2019-11-22 14:11:10,"Sorry for the delay. I've pushed up the discussed changes. This is now based on top of #17550. I've also reordered the commits to have the SDK bump (10.14) at the end. \n\nOne thing left TODO is diff the the 10.14 & 10.15 headers. As well as the LLVM headers. Still going to do this even though we can't use the 10.15 SDK (Qt 5.9 or 5.12 wont build with it).",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-557546046,557546046,
DrahtBot,2019-12-11 23:38:49,<!--a722867cd34abeea1fadc8d60700f111-->\n### Gitian builds\n\n| File | commit ea756bc48cd5eebc0e508fa7679e31f3e2848d60<br>(master) | commit 536e288d36fdb1a40f4d2273e2aaaf1bbd1f2ef7<br>(master and this pull) |\n|--|--|--|\n| bitcoin-0.19.99-aarch64-linux-gnu-debug.tar.gz | [`1662f4bf8b0b3dfe...`](https://drahtbot.space/gitian/bitcoin/bitcoin/ea756bc48cd5eebc0e508fa7679e31f3e2848d60/bitcoin-0.19.99-,https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-564782131,564782131,
MarcoFalke,2019-12-19 21:35:58,Idk why DrahtBot doesn't compile this. I am pretty sure I updated it to the newest sdk.,https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-567686449,567686449,
DrahtBot,2019-12-20 16:23:53,<!--a722867cd34abeea1fadc8d60700f111-->\n### Gitian builds\n\n| File | commit 6677be64f69b3d6f60f5a675ff9746def27a2de8<br>(master) | commit 4f09c775e80299f7b911b6a76b2c0bd518936c92<br>(master and this pull) |\n|--|--|--|\n| bitcoin-0.19.99-aarch64-linux-gnu-debug.tar.gz | [`f92d4b448b73115a...`](https://drahtbot.space/gitian/bitcoin/bitcoin/6677be64f69b3d6f60f5a675ff9746def27a2de8/bitcoin-0.19.99-,https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-567982965,567982965,
Empact,2020-01-17 21:32:29,"FYI the latest 10.11 security update from Apple was published in 09 Jul 2018.\nhttps://support.apple.com/en-us/HT201222",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-575802824,575802824,
Sjors,2020-01-31 15:28:51,"tACK 248526e4f941edea8851a5a72a2a1da0ffdfabcf on macOS 10.15.3 (also tried `make deploy`), provided you can make Travis happy too. I'm not a build system connaisseur though, so an ACK from @theuni would be great.\n\nWe should drop the instructions for obtaining the 10.11 SDK, but that can wait for a followup.",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-580779405,580779405,
laanwj,2020-02-03 10:23:54,FWIW https://bitcoincore.org/depends-sources/sdks/MacOSX10.14.sdk.tar.gz is up,https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-581341031,581341031,
jonasschnelli,2020-02-03 15:19:15,"Tested ACK via a depends build with macOS SDK 10.14:\nhttps://bitcoinbuilds.org/?job=e969d43f-2cd8-4890-b5ae-bcc2d0ea4195\n",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-581464300,581464300,
hebasto,2020-02-03 20:04:39,"> FWIW https://bitcoincore.org/depends-sources/sdks/MacOSX10.14.sdk.tar.gz is up\n\nDownloaded file\n```\n$ sha256sum MacOSX10.14.sdk.tar.gz \n2530c1d88f1aca98994cf32cfcf6099d880965ef0200b8b2a87279c191d56766  MacOSX10.14.sdk.tar.gz\n```\nseems broken.\n\nUPDATE: it was a download error. This one\n```\n$ sha256sum MacOSX10.14.sdk.tar.gz \n328aff47e28c17093d59a72712a9b2e62cd8a8b87bbe03f9",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-581593272,581593272,
hebasto,2020-02-03 21:42:05,"Tested ca5055a5aa07aba81a87cf12f6f0526a63c423b5\n\nCross compilation on Linux Mint 19.3 with depends and MacOSX10.14.sdk was contaminated by system Qt packages (#18042, #18045, #18051):\n```\n$ make HOST=x86_64-apple-darwin16 -C depends\n$ ./autogen.sh\n$ CONFIG_SITE=$PWD/depends/x86_64-apple-darwin16/share/config.site ./configure\n$ make\n...\n  CXX      qt/qt_libbitcoinqt_a-peertablemod",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-581632515,581632515,
DrahtBot,2020-02-04 07:02:32,<!--a722867cd34abeea1fadc8d60700f111-->\n### Gitian builds\n\n| File | commit 365c83e6a8399913cec5f0383978c28f8418fa3b<br>(master) | commit 27d2f29cdaf55523fec312e3d2e2bdaac03e7e97<br>(master and this pull) |\n|--|--|--|\n| bitcoin-0.19.99-aarch64-linux-gnu-debug.tar.gz | [`970e730072cb3102...`](https://drahtbot.space/gitian/bitcoin/bitcoin/365c83e6a8399913cec5f0383978c28f8418fa3b/bitcoin-0.19.99-,https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-581770954,581770954,
fanquake,2020-02-04 07:05:03,@MarcoFalke Looks like DrahtBot is still missing the new SDK.,https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-581771611,581771611,
Sjors,2020-02-04 09:52:07,re-ACK 7e2104433cd0905ccf94632511b3ca0ce5b0463b (rebased from 248526e),https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-581827716,581827716,
dongcarl,2020-02-04 19:08:50,"@fanquake I apologize for my lateness, but here's my outstanding changes so that we can generate and use the SDK with headers as requested: https://github.com/fanquake/bitcoin/compare/macos-toolchain-update...dongcarl:2020-01-macos-sdk-with-headers\n\nHere are the new instructions: https://github.com/dongcarl/bitcoin/blob/adf9968de5dc872e3c51e538f6b99e9423b65bd3/contrib/macdeploy/README.md#step-",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-582066940,582066940,
laanwj,2020-02-05 10:43:32,Let's try to get this merged soonâ€”if we still want this for 0.20 it's not something that should be done last minute.,https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-582347682,582347682,
dongcarl,2020-02-05 11:32:00,"ACK 7e21044\n\n-----\n\nImmediate followup: #18072",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-582365916,582365916,
Empact,2020-02-05 11:35:50,"Built depends successfully on 10.14.6\n\nIs there anything more to say re the ""obsolete mlinker-version option""? Is it obsolete only in that it is no longer required for build?",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-582367170,582367170,
laanwj,2020-02-05 13:30:06,"> @fanquake I apologize for my lateness, but here's my outstanding changes so that we can generate and use the SDK with headers as requested: fanquake/bitcoin@macos-toolchain-update...dongcarl:2020-01-macos-sdk-with-headers\n\nThanks, please add these instructions in a new PR!",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-582407638,582407638,
dongcarl,2020-02-05 16:35:36,"> > @fanquake I apologize for my lateness, but here's my outstanding changes so that we can generate and use the SDK with headers as requested: fanquake/bitcoin@macos-toolchain-update...dongcarl:2020-01-macos-sdk-with-headers\n> \n> Thanks, please add these instructions in a new PR!\n\nIt's here! :-) #18072",https://github.com/bitcoin/bitcoin/pull/16392#issuecomment-582495028,582495028,
dongcarl,2019-07-15 20:02:02,Any reason why we're using your fork instead of upstream?,https://github.com/bitcoin/bitcoin/pull/16392#discussion_r303610767,303610767,depends/packages/native_libdmg-hfsplus.mk
fanquake,2019-07-16 01:27:03,"I'm still applying one commit on top of upstream: https://github.com/fanquake/libdmg-hfsplus/commit/3e5fd3fb56bc9ff03beb535979e33dcf83fe1f70\n\nAlthough now that there's only one commit left we could put the patch in depends and point back to upstream if you'd prefer?",https://github.com/bitcoin/bitcoin/pull/16392#discussion_r303696937,303696937,depends/packages/native_libdmg-hfsplus.mk
theuni,2019-08-02 17:55:20,"> Although now that there's only one commit left we could put the patch in depends and point back to upstream if you'd prefer?\n\n+1",https://github.com/bitcoin/bitcoin/pull/16392#discussion_r310236965,310236965,depends/packages/native_libdmg-hfsplus.mk
theuni,2019-08-02 18:02:47,"All of the LD64_VERSION stuff (used by darwin_CC and darwin_CXX) stuff may be unnecessary now. I believe ""-mlinker-version"" was a hack around a bug that may have now been fixed.\n\nCould you try removing the ```-mlinker-version=...``` and seeing if the build still succeeds?",https://github.com/bitcoin/bitcoin/pull/16392#discussion_r310239658,310239658,depends/hosts/darwin.mk
theuni,2019-08-02 18:06:27,"The main reason for adding this dependency here rather than separately would be so that we can use our fresh compiler (clang) to build it. The same way we handle cctools.\n\nUnless I'm misunderstanding, the way this is done currently, the system compiler is used. We've headed off a few frustrating incompatibilities by using a fixed compiler for the related toolchain components (cctools) in the p",https://github.com/bitcoin/bitcoin/pull/16392#discussion_r310240935,310240935,depends/packages/native_cctools.mk
theuni,2019-08-02 18:26:03,"Sadly I can't remember why the libc++abi.so removal is needed, maybe the SDK ships with the proper one?\n\nAs for dsymutil, that hack was added because the previous cctools didn't ship with one, and some build scripts expect to find it. If the new cctools ships with one, or if whatever required it has been fixed, this can be removed.",https://github.com/bitcoin/bitcoin/pull/16392#discussion_r310247870,310247870,depends/packages/native_cctools.mk
theuni,2019-08-02 18:26:21,Isn't this redundant?,https://github.com/bitcoin/bitcoin/pull/16392#discussion_r310247966,310247966,depends/packages/native_cctools.mk
theuni,2019-08-02 18:28:41,"We want this built statically if possible, otherwise this introduces a (rather unnecessary) LDPATH runtime requirement. Does build.sh have static lib support?",https://github.com/bitcoin/bitcoin/pull/16392#discussion_r310248838,310248838,depends/packages/native_cctools.mk
fanquake,2019-08-05 03:48:18,Have dropped this entire line.,https://github.com/bitcoin/bitcoin/pull/16392#discussion_r310430763,310430763,depends/packages/native_cctools.mk
fanquake,2019-08-05 03:48:45,Combined your suggestions into the Clang update commit.,https://github.com/bitcoin/bitcoin/pull/16392#discussion_r310430812,310430812,depends/packages/native_cctools.mk
fanquake,2019-08-05 03:49:10,Have combined your LD64 suggestions into the cctools commit.,https://github.com/bitcoin/bitcoin/pull/16392#discussion_r310430847,310430847,depends/hosts/darwin.mk
fanquake,2019-08-05 03:49:40,I've switched this around so that `libtapi` is now being built with our 6.0.1 Clang.,https://github.com/bitcoin/bitcoin/pull/16392#discussion_r310430891,310430891,depends/packages/native_cctools.mk
MarcoFalke,2019-10-16 12:33:27,"```suggestion\nDuring the deployment process, the disk image window will pop up briefly\n```\n\n:eyes: ",https://github.com/bitcoin/bitcoin/pull/16392#discussion_r335445776,335445776,contrib/macdeploy/README.md
MarcoFalke,2019-10-17 15:51:33,"So the minimum macOS version is `10.12`, the SDK version is `10.14`, and the cross compile target is `x86_64-apple-darwin16`? This is not confusing at all.",https://github.com/bitcoin/bitcoin/pull/16392#discussion_r336087788,336087788,.travis.yml
fanquake,2019-10-17 15:56:58,"`x86_64-apple-darwin16` maps to macOS `10.12`, more info [here](https://en.wikipedia.org/wiki/Darwin_%28operating_system%29#Release_history). We're building with the 10.14 SDK, however this can be newer, and is the same as we've been doing in previous releases. i.e using the `10.11` SDK while building for `10.7`.",https://github.com/bitcoin/bitcoin/pull/16392#discussion_r336090555,336090555,.travis.yml
MarcoFalke,2019-10-17 17:25:20,Should the gitian-build in master support compiling older releases?,https://github.com/bitcoin/bitcoin/pull/16392#discussion_r336131204,336131204,contrib/gitian-build.py
dongcarl,2019-10-17 18:58:40,Not sure that's a burden we wanna take on. It's probably going to be more sane for those with that use-case to check out the older tag.,https://github.com/bitcoin/bitcoin/pull/16392#discussion_r336174336,336174336,contrib/gitian-build.py
MarcoFalke,2019-10-18 12:28:21,Seems fine,https://github.com/bitcoin/bitcoin/pull/16392#discussion_r336465117,336465117,contrib/gitian-build.py
MarcoFalke,2019-10-18 13:22:09,"```suggestion\nFrom 0.20.0 onwards, macOS <10.12 is no longer supported.\n```\n\n?",https://github.com/bitcoin/bitcoin/pull/16392#discussion_r336487549,336487549,doc/release-notes.md
Sjors,2019-10-21 09:37:43,OSX_SDK_VERSION  should be 10.14?,https://github.com/bitcoin/bitcoin/pull/16392#discussion_r336922162,336922162,depends/hosts/darwin.mk
Sjors,2019-10-21 09:38:34, through macOS 10.15 Catalina ,https://github.com/bitcoin/bitcoin/pull/16392#discussion_r336922527,336922527,doc/build-osx.md
Sjors,2019-10-21 10:18:33,Nit: macOS; more SEO and search friendly,https://github.com/bitcoin/bitcoin/pull/16392#discussion_r336940332,336940332,contrib/macdeploy/README.md
Sjors,2019-10-21 10:34:20,"Maybe update this URL and move it to the top of this section: https://download.developer.apple.com/Developer_Tools/Xcode_10.3/Xcode_10.3.xip (from July 2019)\n\nIn general this section refers to several different versions of Xcode. For SDK 10.14 we need Xcode 10. A more future proof instruction might be :`This can be found here: https://developer.apple.com/download/more/ by filtering ""xcode 10""`",https://github.com/bitcoin/bitcoin/pull/16392#discussion_r336946251,336946251,contrib/macdeploy/README.md
Sjors,2019-10-21 10:37:39,"Nit: we can lose the historical reference and just say ""`Xcode.app` is packaged in a `.xip` archive.",https://github.com/bitcoin/bitcoin/pull/16392#discussion_r336947395,336947395,contrib/macdeploy/README.md
fanquake,2019-10-21 12:37:48,"Why update this URL, it's meant to be pointing to the previously used SDK? The link to the newer SDK is later in the file.",https://github.com/bitcoin/bitcoin/pull/16392#discussion_r336992055,336992055,contrib/macdeploy/README.md
fanquake,2019-10-21 12:40:17,Looks like you're commenting on an outdated diff. This is `10.14` in 1728e348c7678504502fc28db109cc870e286695.,https://github.com/bitcoin/bitcoin/pull/16392#discussion_r336993106,336993106,depends/hosts/darwin.mk
Sjors,2019-10-21 14:05:49,"Ah ok, let's just drop that altogether then (can be done in a followup, along with bumping xcode 10.2.1 to 10.3 and putting the URL above the place where you need it instead of below). ",https://github.com/bitcoin/bitcoin/pull/16392#discussion_r337036932,337036932,contrib/macdeploy/README.md
