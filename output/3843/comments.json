[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37267319",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/3843#issuecomment-37267319",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/3843",
    "id": 37267319,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MjY3MzE5",
    "user": {
      "login": "petertodd",
      "id": 7042,
      "node_id": "MDQ6VXNlcjcwNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7042?u=57b50a05caa63fb86d8f910668719907e9ecf667&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/petertodd",
      "html_url": "https://github.com/petertodd",
      "followers_url": "https://api.github.com/users/petertodd/followers",
      "following_url": "https://api.github.com/users/petertodd/following{/other_user}",
      "gists_url": "https://api.github.com/users/petertodd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/petertodd/subscriptions",
      "organizations_url": "https://api.github.com/users/petertodd/orgs",
      "repos_url": "https://api.github.com/users/petertodd/repos",
      "events_url": "https://api.github.com/users/petertodd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/petertodd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-03-11T06:40:28Z",
    "updated_at": "2014-03-11T10:49:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "Interesting, bitcoinj is producing CHECKMULTISIG transactions that violate this rule. Fixed by @schildbach in https://github.com/schildbach/bitcoinj/commit/e3d97759d5692791821e8f1ee71856a9e8231dd7 (pull-req, not yet merged)\n\n bitcoinjs-lib does get it right however, which covers almost all real-world use of CHECKMULTISIG right now. (e.g. bitgo and bitrated) EDIT: litbitcoin gets it right too, which covers sx.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37267319/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37309153",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/3843#issuecomment-37309153",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/3843",
    "id": 37309153,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MzA5MTUz",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-03-11T15:32:05Z",
    "updated_at": "2014-03-11T15:32:05Z",
    "author_association": "MEMBER",
    "body": "ACK.\n\nI started working on some similar extra flags to implement my proposed version3 transaction/blocks, but didn't get to extend the unit tests as you did, so preferring this code goes in first.\n\nThis pull-request does contain a bunch of only moderately-related commits though, so perhaps others prefer seeing it split up. I'm personally fine with all.\n\nI'm not sure a separation into standard/mandatory will suffice in the future. Some flags may be mandatory in some context (nVersion=3 blocks) while not even being required in others. We'll see as we go, I guess.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37309153/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37311070",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/3843#issuecomment-37311070",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/3843",
    "id": 37311070,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MzExMDcw",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-03-11T15:47:29Z",
    "updated_at": "2014-03-11T15:47:29Z",
    "author_association": "MEMBER",
    "body": "Verifying some math:\n\nI think you can only fit a n-of-14 checkmultisig in a 510-byte redeem script IMHO. It requires an OP_(nRequired) + nKeys*(push of 33 bytes) + OP_(nKeys) + OP_CHECKMULTISIG. For nKeys=15, this requires 513 bytes.\n\nSo nKeys is at most 14, and the maximum standard redeemscript is 479 bytes.\n\nThe size limit on scriptSig can be made a bit more strict as well.\n\nSince the even-s signature creation rule, signatures are never more than 72 bytes, so 14*(72+1) + 479+1 = 1502 bytes can be the scriptSig limit (instead of 1721). This is also enough for spending a 20-of-20 multisig, by the way.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37311070/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37311291",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/3843#issuecomment-37311291",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/3843",
    "id": 37311291,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MzExMjkx",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-03-11T15:49:24Z",
    "updated_at": "2014-03-11T15:49:24Z",
    "author_association": "MEMBER",
    "body": "Ugh. The limit is 520 bytes, not 510.\n\nThis means nKeys can indeed be 15, and the maximum redeemscript is 513 bytes.\n\nThe maximum scriptSig then becomes 15*(72+1) + 513+1 = 1609.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37311291/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37321543",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/3843#issuecomment-37321543",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/3843",
    "id": 37321543,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MzIxNTQz",
    "user": {
      "login": "gmaxwell",
      "id": 858454,
      "node_id": "MDQ6VXNlcjg1ODQ1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/858454?u=63e5c438c242094837a9deeda775d77988b508bf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gmaxwell",
      "html_url": "https://github.com/gmaxwell",
      "followers_url": "https://api.github.com/users/gmaxwell/followers",
      "following_url": "https://api.github.com/users/gmaxwell/following{/other_user}",
      "gists_url": "https://api.github.com/users/gmaxwell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
      "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
      "repos_url": "https://api.github.com/users/gmaxwell/repos",
      "events_url": "https://api.github.com/users/gmaxwell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-03-11T17:08:21Z",
    "updated_at": "2014-03-11T17:08:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "@petertodd was that reindex with checkpoints=0 ?   I'd also suggest adding to your testplan a quick test of the test by turning on the rule like a blockchain rule and making sure it rejects the chain.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37321543/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37459677",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/3843#issuecomment-37459677",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/3843",
    "id": 37459677,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDU5Njc3",
    "user": {
      "login": "petertodd",
      "id": 7042,
      "node_id": "MDQ6VXNlcjcwNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7042?u=57b50a05caa63fb86d8f910668719907e9ecf667&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/petertodd",
      "html_url": "https://github.com/petertodd",
      "followers_url": "https://api.github.com/users/petertodd/followers",
      "following_url": "https://api.github.com/users/petertodd/following{/other_user}",
      "gists_url": "https://api.github.com/users/petertodd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/petertodd/subscriptions",
      "organizations_url": "https://api.github.com/users/petertodd/orgs",
      "repos_url": "https://api.github.com/users/petertodd/repos",
      "events_url": "https://api.github.com/users/petertodd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/petertodd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-03-12T20:24:21Z",
    "updated_at": "2014-03-12T20:24:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "@gmaxwell Good point; checkpoints=0 does pass. I also did a testnet reindex with the test forced on, and as expected it fails at height 180683 due to tx 013b1d2d37f77ec0b6861b396d594ace1d6bbff97d1cc64e401c396e89ba0462.\n\n@sipa I lowered the limit to a rounded off 1650 bytes and updated the comment to be clear it wasn't the absolute lower-limit. I agree re: nVersion=3, and actually was going to suggest we think about whether or not treating that as a transaction-level flag and/or passing the transaction nVersion into EvalScript made sense, but that's a discussion for elsewhere. Mandatory/standard at least gives us a starting point for those more complex changes.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37459677/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37995139",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/3843#issuecomment-37995139",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/3843",
    "id": 37995139,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTk1MTM5",
    "user": {
      "login": "petertodd",
      "id": 7042,
      "node_id": "MDQ6VXNlcjcwNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7042?u=57b50a05caa63fb86d8f910668719907e9ecf667&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/petertodd",
      "html_url": "https://github.com/petertodd",
      "followers_url": "https://api.github.com/users/petertodd/followers",
      "following_url": "https://api.github.com/users/petertodd/following{/other_user}",
      "gists_url": "https://api.github.com/users/petertodd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/petertodd/subscriptions",
      "organizations_url": "https://api.github.com/users/petertodd/orgs",
      "repos_url": "https://api.github.com/users/petertodd/repos",
      "events_url": "https://api.github.com/users/petertodd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/petertodd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-03-18T22:08:53Z",
    "updated_at": "2014-03-18T22:08:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "I've been running a node for about a week now with this patch applied. No issues seen, and on top of that other than some of my own test transactions I haven't seen any CHECKMULTISIG usage that would be blocked by this patch; looks like all the implementations actually out there getting used are compliant.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37995139/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/39050771",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/3843#issuecomment-39050771",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/3843",
    "id": 39050771,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDUwNzcx",
    "user": {
      "login": "CodeShark",
      "id": 894059,
      "node_id": "MDQ6VXNlcjg5NDA1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/894059?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CodeShark",
      "html_url": "https://github.com/CodeShark",
      "followers_url": "https://api.github.com/users/CodeShark/followers",
      "following_url": "https://api.github.com/users/CodeShark/following{/other_user}",
      "gists_url": "https://api.github.com/users/CodeShark/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CodeShark/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CodeShark/subscriptions",
      "organizations_url": "https://api.github.com/users/CodeShark/orgs",
      "repos_url": "https://api.github.com/users/CodeShark/repos",
      "events_url": "https://api.github.com/users/CodeShark/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CodeShark/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-03-31T03:11:48Z",
    "updated_at": "2014-03-31T03:11:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "Looks good. Haven't throughly tested it, but I am running a node and it seems to work fine.\n\nThis is a much desired fix.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/39050771/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/42125189",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/3843#issuecomment-42125189",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/3843",
    "id": 42125189,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTI1MTg5",
    "user": {
      "login": "CodeShark",
      "id": 894059,
      "node_id": "MDQ6VXNlcjg5NDA1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/894059?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CodeShark",
      "html_url": "https://github.com/CodeShark",
      "followers_url": "https://api.github.com/users/CodeShark/followers",
      "following_url": "https://api.github.com/users/CodeShark/following{/other_user}",
      "gists_url": "https://api.github.com/users/CodeShark/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CodeShark/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CodeShark/subscriptions",
      "organizations_url": "https://api.github.com/users/CodeShark/orgs",
      "repos_url": "https://api.github.com/users/CodeShark/repos",
      "events_url": "https://api.github.com/users/CodeShark/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CodeShark/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-05-04T06:07:09Z",
    "updated_at": "2014-05-04T06:07:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "I've been running this patch for several weeks now and haven't run into any issues - any chance of this getting merged soon?\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/42125189/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/42159413",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/3843#issuecomment-42159413",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/3843",
    "id": 42159413,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTU5NDEz",
    "user": {
      "login": "petertodd",
      "id": 7042,
      "node_id": "MDQ6VXNlcjcwNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7042?u=57b50a05caa63fb86d8f910668719907e9ecf667&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/petertodd",
      "html_url": "https://github.com/petertodd",
      "followers_url": "https://api.github.com/users/petertodd/followers",
      "following_url": "https://api.github.com/users/petertodd/following{/other_user}",
      "gists_url": "https://api.github.com/users/petertodd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/petertodd/subscriptions",
      "organizations_url": "https://api.github.com/users/petertodd/orgs",
      "repos_url": "https://api.github.com/users/petertodd/repos",
      "events_url": "https://api.github.com/users/petertodd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/petertodd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-05-05T05:05:44Z",
    "updated_at": "2014-05-05T05:05:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "Lemme know if this needs a rebase; pull-reqs #3860 and #3861 depend on it as well.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/42159413/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/42164361",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/3843#issuecomment-42164361",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/3843",
    "id": 42164361,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTY0MzYx",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-05-05T07:25:24Z",
    "updated_at": "2014-05-05T07:25:24Z",
    "author_association": "MEMBER",
    "body": "Looks good to me, ACK apart from above minor nits\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/42164361/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/42174231",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/3843#issuecomment-42174231",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/3843",
    "id": 42174231,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTc0MjMx",
    "user": {
      "login": "petertodd",
      "id": 7042,
      "node_id": "MDQ6VXNlcjcwNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7042?u=57b50a05caa63fb86d8f910668719907e9ecf667&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/petertodd",
      "html_url": "https://github.com/petertodd",
      "followers_url": "https://api.github.com/users/petertodd/followers",
      "following_url": "https://api.github.com/users/petertodd/following{/other_user}",
      "gists_url": "https://api.github.com/users/petertodd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/petertodd/subscriptions",
      "organizations_url": "https://api.github.com/users/petertodd/orgs",
      "repos_url": "https://api.github.com/users/petertodd/repos",
      "events_url": "https://api.github.com/users/petertodd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/petertodd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-05-05T10:07:17Z",
    "updated_at": "2014-05-05T10:07:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "@laanwj Fixed all minor nits.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/42174231/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/42174342",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/3843#issuecomment-42174342",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/3843",
    "id": 42174342,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTc0MzQy",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-05-05T10:09:14Z",
    "updated_at": "2014-05-05T10:09:14Z",
    "author_association": "MEMBER",
    "body": "@gavinandresen can you have a final look at this before merging?\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/42174342/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/42184669",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/3843#issuecomment-42184669",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/3843",
    "id": 42184669,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTg0NjY5",
    "user": {
      "login": "gavinandresen",
      "id": 331997,
      "node_id": "MDQ6VXNlcjMzMTk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/331997?u=db313a954a318b81f5283d34908397d1ea3aeba3&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gavinandresen",
      "html_url": "https://github.com/gavinandresen",
      "followers_url": "https://api.github.com/users/gavinandresen/followers",
      "following_url": "https://api.github.com/users/gavinandresen/following{/other_user}",
      "gists_url": "https://api.github.com/users/gavinandresen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gavinandresen/subscriptions",
      "organizations_url": "https://api.github.com/users/gavinandresen/orgs",
      "repos_url": "https://api.github.com/users/gavinandresen/repos",
      "events_url": "https://api.github.com/users/gavinandresen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gavinandresen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-05-05T12:58:59Z",
    "updated_at": "2014-05-05T12:58:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "Code-reviewed, but untested, ACK.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/42184669/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/42513949",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/3843#issuecomment-42513949",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/3843",
    "id": 42513949,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTEzOTQ5",
    "user": {
      "login": "petertodd",
      "id": 7042,
      "node_id": "MDQ6VXNlcjcwNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7042?u=57b50a05caa63fb86d8f910668719907e9ecf667&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/petertodd",
      "html_url": "https://github.com/petertodd",
      "followers_url": "https://api.github.com/users/petertodd/followers",
      "following_url": "https://api.github.com/users/petertodd/following{/other_user}",
      "gists_url": "https://api.github.com/users/petertodd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/petertodd/subscriptions",
      "organizations_url": "https://api.github.com/users/petertodd/orgs",
      "repos_url": "https://api.github.com/users/petertodd/repos",
      "events_url": "https://api.github.com/users/petertodd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/petertodd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-05-08T05:12:53Z",
    "updated_at": "2014-05-08T05:12:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "@sipa Fixed that comment and added a test for stack size prior to stacktop().\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/42513949/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/42514922",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/3843#issuecomment-42514922",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/3843",
    "id": 42514922,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTE0OTIy",
    "user": {
      "login": "BitcoinPullTester",
      "id": 2110907,
      "node_id": "MDQ6VXNlcjIxMTA5MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2110907?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BitcoinPullTester",
      "html_url": "https://github.com/BitcoinPullTester",
      "followers_url": "https://api.github.com/users/BitcoinPullTester/followers",
      "following_url": "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
      "gists_url": "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BitcoinPullTester/subscriptions",
      "organizations_url": "https://api.github.com/users/BitcoinPullTester/orgs",
      "repos_url": "https://api.github.com/users/BitcoinPullTester/repos",
      "events_url": "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BitcoinPullTester/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-05-08T05:37:05Z",
    "updated_at": "2014-05-08T05:37:05Z",
    "author_association": "NONE",
    "body": "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/787ee0c91394b0ae16ca2500dbacf9349e65b6bc for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/42514922/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/12268918",
    "pull_request_review_id": null,
    "id": 12268918,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyMjY4OTE4",
    "diff_hunk": "@@ -1573,14 +1577,30 @@ bool CheckInputs(const CTransaction& tx, CValidationState &state, CCoinsViewCach\n                     pvChecks->push_back(CScriptCheck());\n                     check.swap(pvChecks->back());\n                 } else if (!check()) {\n-                    if (flags & SCRIPT_VERIFY_STRICTENC) {\n-                        // For now, check whether the failure was caused by non-canonical\n-                        // encodings or not; if so, don't trigger DoS protection.\n-                        CScriptCheck check(coins, tx, i, flags & (~SCRIPT_VERIFY_STRICTENC), 0);\n+                    if (flags & (STANDARD_SCRIPT_VERIFY_FLAGS & ~MANDATORY_SCRIPT_VERIFY_FLAGS)) {",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 36,
    "commit_id": "787ee0c91394b0ae16ca2500dbacf9349e65b6bc",
    "original_commit_id": "b3eb5a208e416cec68cd63999e271529274a0d9c",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe define a constant `STANDARD_NOT_MANDATORY_VERIFY_FLAGS` that's `(STANDARD_SCRIPT_VERIFY_FLAGS & ~MANDATORY_SCRIPT_VERIFY_FLAGS)` instead of doing the bit twiddling here inline, twice.\n",
    "created_at": "2014-05-05T07:04:05Z",
    "updated_at": "2014-05-08T05:10:30Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/3843#discussion_r12268918",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/3843",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/12268918"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/3843#discussion_r12268918"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/3843"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/12268918/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1580,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/12268960",
    "pull_request_review_id": null,
    "id": 12268960,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyMjY4OTYw",
    "diff_hunk": "@@ -11,16 +11,41 @@\n #include <map>\n #include <string>\n \n+#include <boost/algorithm/string/classification.hpp>\n+#include <boost/algorithm/string/split.hpp>\n #include <boost/test/unit_test.hpp>\n #include \"json/json_spirit_writer_template.h\"\n \n using namespace std;\n using namespace json_spirit;\n+using namespace boost::algorithm;\n \n // In script_tests.cpp\n extern Array read_json(const std::string& jsondata);\n extern CScript ParseScript(string s);\n \n+unsigned int ParseFlags(string strFlags){\n+    unsigned int flags = 0;\n+    vector<string> words;\n+    split(words, strFlags, is_any_of(\",\"));\n+\n+    // Note how NOCACHE is not included as it is a runtime-only flag.\n+    static map<string, unsigned int> mapFlagNames;\n+    if (mapFlagNames.size() == 0)\n+    {\n+        mapFlagNames[\"NONE\"] = SCRIPT_VERIFY_NONE;\n+        mapFlagNames[\"P2SH\"] = SCRIPT_VERIFY_P2SH;\n+        mapFlagNames[\"STRICTENC\"] = SCRIPT_VERIFY_STRICTENC;\n+        mapFlagNames[\"EVEN_S\"] = SCRIPT_VERIFY_EVEN_S;\n+        mapFlagNames[\"NULLDUMMY\"] = SCRIPT_VERIFY_NULLDUMMY;\n+    }\n+\n+    BOOST_FOREACH(string word, words)\n+        flags |= mapFlagNames[word];",
    "path": "src/test/transaction_tests.cpp",
    "position": null,
    "original_position": 34,
    "commit_id": "787ee0c91394b0ae16ca2500dbacf9349e65b6bc",
    "original_commit_id": "b3eb5a208e416cec68cd63999e271529274a0d9c",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I'd make this parsing a bit more strict: fail if the word is not in mapFlagNames instead of treating it as 0. This avoids tests testing something else than you think due to a typo.\n",
    "created_at": "2014-05-05T07:07:23Z",
    "updated_at": "2014-05-08T05:10:30Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/3843#discussion_r12268960",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/3843",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/12268960"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/3843#discussion_r12268960"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/3843"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/12268960/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 44,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/12268992",
    "pull_request_review_id": null,
    "id": 12268992,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyMjY4OTky",
    "diff_hunk": "@@ -33,6 +33,9 @@ bool CBasicKeyStore::AddKeyPubKey(const CKey& key, const CPubKey &pubkey)\n \n bool CBasicKeyStore::AddCScript(const CScript& redeemScript)\n {\n+    if (redeemScript.size() > MAX_SCRIPT_ELEMENT_SIZE)\n+        return error(\"CBasicKeyStore::AddCScript() : redeemScripts > 520 bytes are invalid\");",
    "path": "src/keystore.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "787ee0c91394b0ae16ca2500dbacf9349e65b6bc",
    "original_commit_id": "b3eb5a208e416cec68cd63999e271529274a0d9c",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe\n\n```\nreturn error(\"CBasicKeyStore::AddCScript() : redeemScripts > %i bytes are invalid\", MAX_SCRIPT_ELEMENT_SIZE);\n```\n",
    "created_at": "2014-05-05T07:09:52Z",
    "updated_at": "2014-05-08T05:10:30Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/3843#discussion_r12268992",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/3843",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/12268992"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/3843#discussion_r12268992"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/3843"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/12268992/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 37,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/12273140",
    "pull_request_review_id": null,
    "id": 12273140,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyMjczMTQw",
    "diff_hunk": "@@ -11,16 +11,41 @@\n #include <map>\n #include <string>\n \n+#include <boost/algorithm/string/classification.hpp>\n+#include <boost/algorithm/string/split.hpp>\n #include <boost/test/unit_test.hpp>\n #include \"json/json_spirit_writer_template.h\"\n \n using namespace std;\n using namespace json_spirit;\n+using namespace boost::algorithm;\n \n // In script_tests.cpp\n extern Array read_json(const std::string& jsondata);\n extern CScript ParseScript(string s);\n \n+unsigned int ParseFlags(string strFlags){\n+    unsigned int flags = 0;\n+    vector<string> words;\n+    split(words, strFlags, is_any_of(\",\"));\n+\n+    // Note how NOCACHE is not included as it is a runtime-only flag.\n+    static map<string, unsigned int> mapFlagNames;\n+    if (mapFlagNames.size() == 0)\n+    {\n+        mapFlagNames[\"NONE\"] = SCRIPT_VERIFY_NONE;\n+        mapFlagNames[\"P2SH\"] = SCRIPT_VERIFY_P2SH;\n+        mapFlagNames[\"STRICTENC\"] = SCRIPT_VERIFY_STRICTENC;\n+        mapFlagNames[\"EVEN_S\"] = SCRIPT_VERIFY_EVEN_S;\n+        mapFlagNames[\"NULLDUMMY\"] = SCRIPT_VERIFY_NULLDUMMY;\n+    }\n+\n+    BOOST_FOREACH(string word, words)\n+        flags |= mapFlagNames[word];",
    "path": "src/test/transaction_tests.cpp",
    "position": null,
    "original_position": 34,
    "commit_id": "787ee0c91394b0ae16ca2500dbacf9349e65b6bc",
    "original_commit_id": "b3eb5a208e416cec68cd63999e271529274a0d9c",
    "user": {
      "login": "petertodd",
      "id": 7042,
      "node_id": "MDQ6VXNlcjcwNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7042?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/petertodd",
      "html_url": "https://github.com/petertodd",
      "followers_url": "https://api.github.com/users/petertodd/followers",
      "following_url": "https://api.github.com/users/petertodd/following{/other_user}",
      "gists_url": "https://api.github.com/users/petertodd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/petertodd/subscriptions",
      "organizations_url": "https://api.github.com/users/petertodd/orgs",
      "repos_url": "https://api.github.com/users/petertodd/repos",
      "events_url": "https://api.github.com/users/petertodd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/petertodd/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Oh! I didn't realize C++ modified a map if you used [] on a unknown key, weird.\n",
    "created_at": "2014-05-05T10:02:32Z",
    "updated_at": "2014-05-08T05:10:30Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/3843#discussion_r12273140",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/3843",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/12273140"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/3843#discussion_r12273140"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/3843"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/12273140/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 44,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/12273195",
    "pull_request_review_id": null,
    "id": 12273195,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyMjczMTk1",
    "diff_hunk": "@@ -11,16 +11,41 @@\n #include <map>\n #include <string>\n \n+#include <boost/algorithm/string/classification.hpp>\n+#include <boost/algorithm/string/split.hpp>\n #include <boost/test/unit_test.hpp>\n #include \"json/json_spirit_writer_template.h\"\n \n using namespace std;\n using namespace json_spirit;\n+using namespace boost::algorithm;\n \n // In script_tests.cpp\n extern Array read_json(const std::string& jsondata);\n extern CScript ParseScript(string s);\n \n+unsigned int ParseFlags(string strFlags){\n+    unsigned int flags = 0;\n+    vector<string> words;\n+    split(words, strFlags, is_any_of(\",\"));\n+\n+    // Note how NOCACHE is not included as it is a runtime-only flag.\n+    static map<string, unsigned int> mapFlagNames;\n+    if (mapFlagNames.size() == 0)\n+    {\n+        mapFlagNames[\"NONE\"] = SCRIPT_VERIFY_NONE;\n+        mapFlagNames[\"P2SH\"] = SCRIPT_VERIFY_P2SH;\n+        mapFlagNames[\"STRICTENC\"] = SCRIPT_VERIFY_STRICTENC;\n+        mapFlagNames[\"EVEN_S\"] = SCRIPT_VERIFY_EVEN_S;\n+        mapFlagNames[\"NULLDUMMY\"] = SCRIPT_VERIFY_NULLDUMMY;\n+    }\n+\n+    BOOST_FOREACH(string word, words)\n+        flags |= mapFlagNames[word];",
    "path": "src/test/transaction_tests.cpp",
    "position": null,
    "original_position": 34,
    "commit_id": "787ee0c91394b0ae16ca2500dbacf9349e65b6bc",
    "original_commit_id": "b3eb5a208e416cec68cd63999e271529274a0d9c",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It's really a pitfall. To paraphrase the horse_unix twitter account: \"the definition of operator[] is extremely simple: m[k] is equivalent to (*((m.insert(value_type(k, data_type()))).first)).second.\"\n\nI wouldn't be surprised if Bitcoin Core itself also had a minor bug or two due to strangeness with [. In general using the explicit .find() results in more clear (though also more verbose...) code.\n",
    "created_at": "2014-05-05T10:05:39Z",
    "updated_at": "2014-05-08T05:10:30Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/3843#discussion_r12273195",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/3843",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/12273195"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/3843#discussion_r12273195"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/3843"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/12273195/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 44,
    "side": "RIGHT"
  }
]